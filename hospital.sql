--------------------------------------------------------
--  File created - wtorek-czerwca-18-2024   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence ASSIGNMENT_MEDICINES_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."ASSIGNMENT_MEDICINES_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence DOCTORS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."DOCTORS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence FAILED_JOBS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."FAILED_JOBS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence JOBS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."JOBS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence MEDICINS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."MEDICINS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence MIGRATIONS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."MIGRATIONS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence NURSES_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."NURSES_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence PATIENTS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."PATIENTS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence PROCEDURES_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."PROCEDURES_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence ROOMS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."ROOMS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence STATUSES_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."STATUSES_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence STATUSES_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."STATUSES_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence TREATMENTS_DOCTORS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."TREATMENTS_DOCTORS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence TREATMENTS_DOCTORS_USERS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."TREATMENTS_DOCTORS_USERS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence TREATMENTS_NURSES_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."TREATMENTS_NURSES_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence TREATMENT_TYPES_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."TREATMENT_TYPES_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Sequence USERS_ID_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "HOSPITAL"."USERS_ID_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  GLOBAL ;
--------------------------------------------------------
--  DDL for Table ASSIGNMENT_MEDICINES
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" 
   (	"ID" NUMBER(19,0), 
	"PATIENT_ID" NUMBER(19,0), 
	"MEDICIN_ID" NUMBER(19,0), 
	"DOSE" NUMBER(10,0), 
	"DATE_START" DATE, 
	"DATE_END" DATE, 
	"EXPIRATION_DATE" DATE, 
	"AVAILABILITY" CHAR(1 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CACHE
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."CACHE" 
   (	"KEY" VARCHAR2(255 BYTE), 
	"VALUE" CLOB, 
	"EXPIRATION" NUMBER(10,0)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" 
 LOB ("VALUE") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) ;
--------------------------------------------------------
--  DDL for Table CACHE_LOCKS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."CACHE_LOCKS" 
   (	"KEY" VARCHAR2(255 BYTE), 
	"OWNER" VARCHAR2(255 BYTE), 
	"EXPIRATION" NUMBER(10,0)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table DOCTORS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."DOCTORS" 
   (	"ID" NUMBER(19,0), 
	"NAME" VARCHAR2(20 BYTE), 
	"SURNAME" VARCHAR2(25 BYTE), 
	"SPECIALIZATION" VARCHAR2(50 BYTE), 
	"LICENSE_NUMBER" VARCHAR2(50 BYTE), 
	"USER_ID" NUMBER(19,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table FAILED_JOBS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."FAILED_JOBS" 
   (	"ID" NUMBER(19,0), 
	"UUID" VARCHAR2(255 BYTE), 
	"CONNECTION" CLOB, 
	"QUEUE" CLOB, 
	"PAYLOAD" CLOB, 
	"EXCEPTION" CLOB, 
	"FAILED_AT" TIMESTAMP (6)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" 
 LOB ("CONNECTION") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) 
 LOB ("QUEUE") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) 
 LOB ("PAYLOAD") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) 
 LOB ("EXCEPTION") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) ;
--------------------------------------------------------
--  DDL for Table JOB_BATCHES
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."JOB_BATCHES" 
   (	"ID" VARCHAR2(255 BYTE), 
	"NAME" VARCHAR2(255 BYTE), 
	"TOTAL_JOBS" NUMBER(10,0), 
	"PENDING_JOBS" NUMBER(10,0), 
	"FAILED_JOBS" NUMBER(10,0), 
	"FAILED_JOB_IDS" CLOB, 
	"OPTIONS" CLOB, 
	"CANCELLED_AT" NUMBER(10,0), 
	"CREATED_AT" NUMBER(10,0), 
	"FINISHED_AT" NUMBER(10,0)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" 
 LOB ("FAILED_JOB_IDS") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) 
 LOB ("OPTIONS") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) ;
--------------------------------------------------------
--  DDL for Table JOBS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."JOBS" 
   (	"ID" NUMBER(19,0), 
	"QUEUE" VARCHAR2(255 BYTE), 
	"PAYLOAD" CLOB, 
	"ATTEMPTS" NUMBER(3,0), 
	"RESERVED_AT" NUMBER(10,0), 
	"AVAILABLE_AT" NUMBER(10,0), 
	"CREATED_AT" NUMBER(10,0)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" 
 LOB ("PAYLOAD") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) ;
--------------------------------------------------------
--  DDL for Table MEDICINS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."MEDICINS" 
   (	"ID" NUMBER(19,0), 
	"NAME" VARCHAR2(40 BYTE), 
	"INSTRUCTION" CLOB, 
	"WAREHOUSE_QUANTITY" NUMBER(10,0), 
	"DRUG_CATEGORY" VARCHAR2(40 BYTE), 
	"DRUG_FORM" VARCHAR2(255 BYTE), 
	"PRICE" NUMBER(10,0), 
	"DOSE_UNIT" VARCHAR2(255 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("INSTRUCTION") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table MIGRATIONS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."MIGRATIONS" 
   (	"ID" NUMBER(10,0), 
	"MIGRATION" VARCHAR2(255 BYTE), 
	"BATCH" NUMBER(10,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table NURSES
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."NURSES" 
   (	"ID" NUMBER(19,0), 
	"NAME" VARCHAR2(20 BYTE), 
	"SURNAME" VARCHAR2(30 BYTE), 
	"NUMBER_LICENSE" VARCHAR2(30 BYTE), 
	"USER_ID" NUMBER(19,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PATIENTS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."PATIENTS" 
   (	"ID" NUMBER(19,0), 
	"NAME" VARCHAR2(20 BYTE), 
	"SURNAME" VARCHAR2(25 BYTE), 
	"NURSE_ID" NUMBER(19,0), 
	"USER_ID" NUMBER(19,0), 
	"TIME_VISIT" NUMBER(10,0), 
	"ROOM_ID" NUMBER(19,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PROCEDURES
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."PROCEDURES" 
   (	"ID" NUMBER(19,0), 
	"TREATMENT_TYPE_ID" NUMBER(19,0), 
	"ROOM_ID" NUMBER(19,0), 
	"DATE" TIMESTAMP (6), 
	"TIME" VARCHAR2(255 BYTE), 
	"COST" NUMBER(10,2), 
	"STATUS" NUMBER(10,0), 
	"PATIENT_ID" NUMBER(19,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ROOMS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."ROOMS" 
   (	"ID" NUMBER(19,0), 
	"RNUMBER" VARCHAR2(10 BYTE), 
	"RLOCATION" VARCHAR2(100 BYTE), 
	"STATUS" VARCHAR2(50 BYTE), 
	"TYPE_ROOM" VARCHAR2(50 BYTE), 
	"SEATS" NUMBER(10,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table SESSIONS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."SESSIONS" 
   (	"ID" VARCHAR2(255 BYTE), 
	"USER_ID" NUMBER(19,0), 
	"IP_ADDRESS" VARCHAR2(45 BYTE), 
	"USER_AGENT" CLOB, 
	"PAYLOAD" CLOB, 
	"LAST_ACTIVITY" NUMBER(10,0)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" 
 LOB ("USER_AGENT") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) 
 LOB ("PAYLOAD") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) ;
--------------------------------------------------------
--  DDL for Table STATUSES
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."STATUSES" 
   (	"ID" NUMBER(19,0), 
	"STATUS" VARCHAR2(255 BYTE), 
	"DESCRIPTION" CLOB, 
	"CREATED_AT" TIMESTAMP (6), 
	"UPDATED_AT" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("DESCRIPTION") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table TREATMENT_DOCTORS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."TREATMENT_DOCTORS" 
   (	"PROCEDURE_ID" NUMBER(19,0), 
	"DOCTOR_ID" NUMBER(19,0), 
	"CREATED_AT" TIMESTAMP (6), 
	"UPDATED_AT" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TREATMENT_NURSES
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."TREATMENT_NURSES" 
   (	"NURSE_ID" NUMBER(19,0), 
	"PROCEDURE_ID" NUMBER(19,0)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TREATMENTS_DOCTORS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."TREATMENTS_DOCTORS" 
   (	"ID" NUMBER(19,0), 
	"PROCEDURE_ID" NUMBER(19,0), 
	"DOCTOR_ID" NUMBER(19,0), 
	"CREATED_AT" TIMESTAMP (6), 
	"UPDATED_AT" TIMESTAMP (6)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TREATMENTS_NURSES
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."TREATMENTS_NURSES" 
   (	"ID" NUMBER(19,0), 
	"NURSE_ID" NUMBER(19,0), 
	"PROCEDURE_ID" NUMBER(19,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table TREATMENT_TYPES
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."TREATMENT_TYPES" 
   (	"ID" NUMBER(19,0), 
	"NAME" VARCHAR2(100 BYTE), 
	"DESCRIPTION" CLOB, 
	"RECOMMENDATIONS_BEFORE_SURGERY" CLOB, 
	"RECOMMENDATIONS_AFTER_SURGERY" CLOB, 
	"CREATED_AT" TIMESTAMP (6), 
	"UPDATED_AT" TIMESTAMP (6)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("DESCRIPTION") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("RECOMMENDATIONS_BEFORE_SURGERY") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) 
 LOB ("RECOMMENDATIONS_AFTER_SURGERY") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;
--------------------------------------------------------
--  DDL for Table USERS
--------------------------------------------------------

  CREATE TABLE "HOSPITAL"."USERS" 
   (	"ID" NUMBER(19,0), 
	"LOGIN" VARCHAR2(30 BYTE), 
	"PASSWORD" VARCHAR2(255 BYTE), 
	"ACCOUNT_TYPE" NUMBER(10,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
REM INSERTING into HOSPITAL.ASSIGNMENT_MEDICINES
SET DEFINE OFF;
Insert into HOSPITAL.ASSIGNMENT_MEDICINES (ID,PATIENT_ID,MEDICIN_ID,DOSE,DATE_START,DATE_END,EXPIRATION_DATE,AVAILABILITY) values ('1','1','1','2',to_date('24/06/01','RR/MM/DD'),to_date('24/06/10','RR/MM/DD'),to_date('25/06/01','RR/MM/DD'),'1');
Insert into HOSPITAL.ASSIGNMENT_MEDICINES (ID,PATIENT_ID,MEDICIN_ID,DOSE,DATE_START,DATE_END,EXPIRATION_DATE,AVAILABILITY) values ('2','2','2','1',to_date('24/07/01','RR/MM/DD'),to_date('24/07/15','RR/MM/DD'),to_date('25/07/01','RR/MM/DD'),'1');
Insert into HOSPITAL.ASSIGNMENT_MEDICINES (ID,PATIENT_ID,MEDICIN_ID,DOSE,DATE_START,DATE_END,EXPIRATION_DATE,AVAILABILITY) values ('3','3','3','3',to_date('24/08/01','RR/MM/DD'),to_date('24/08/10','RR/MM/DD'),to_date('25/08/01','RR/MM/DD'),'0');
Insert into HOSPITAL.ASSIGNMENT_MEDICINES (ID,PATIENT_ID,MEDICIN_ID,DOSE,DATE_START,DATE_END,EXPIRATION_DATE,AVAILABILITY) values ('4','1','4','2',to_date('24/09/01','RR/MM/DD'),to_date('24/09/10','RR/MM/DD'),to_date('25/09/01','RR/MM/DD'),'1');
Insert into HOSPITAL.ASSIGNMENT_MEDICINES (ID,PATIENT_ID,MEDICIN_ID,DOSE,DATE_START,DATE_END,EXPIRATION_DATE,AVAILABILITY) values ('5','2','5','1',to_date('24/10/01','RR/MM/DD'),to_date('24/10/15','RR/MM/DD'),to_date('25/10/01','RR/MM/DD'),'1');
Insert into HOSPITAL.ASSIGNMENT_MEDICINES (ID,PATIENT_ID,MEDICIN_ID,DOSE,DATE_START,DATE_END,EXPIRATION_DATE,AVAILABILITY) values ('6','3','6','3',to_date('24/11/01','RR/MM/DD'),to_date('24/11/10','RR/MM/DD'),to_date('25/11/01','RR/MM/DD'),'0');
REM INSERTING into HOSPITAL.CACHE
SET DEFINE OFF;
REM INSERTING into HOSPITAL.CACHE_LOCKS
SET DEFINE OFF;
REM INSERTING into HOSPITAL.DOCTORS
SET DEFINE OFF;
Insert into HOSPITAL.DOCTORS (ID,NAME,SURNAME,SPECIALIZATION,LICENSE_NUMBER,USER_ID) values ('1','Adam','Kowal','chirurg','A231B312S','2');
Insert into HOSPITAL.DOCTORS (ID,NAME,SURNAME,SPECIALIZATION,LICENSE_NUMBER,USER_ID) values ('2','Jan','Kowalsli','chirurg','A231B3FDS','3');
Insert into HOSPITAL.DOCTORS (ID,NAME,SURNAME,SPECIALIZATION,LICENSE_NUMBER,USER_ID) values ('3','Micha³','Nowak','kardiolog','B123C456D','9');
Insert into HOSPITAL.DOCTORS (ID,NAME,SURNAME,SPECIALIZATION,LICENSE_NUMBER,USER_ID) values ('4','Anna','Wiœniewska','internista','C789D012E','10');
REM INSERTING into HOSPITAL.FAILED_JOBS
SET DEFINE OFF;
REM INSERTING into HOSPITAL.JOB_BATCHES
SET DEFINE OFF;
REM INSERTING into HOSPITAL.JOBS
SET DEFINE OFF;
REM INSERTING into HOSPITAL.MEDICINS
SET DEFINE OFF;
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('1','Rutinoscorbin','321','przeciwbólowe','tabletki','23','tabletka');
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('2','Ibuprofen','450','przeciwbólowe','tabletki','15','tabletka');
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('3','Paracetamol','500','przeciwbólowe','tabletki','12','tabletka');
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('4','Amoxicillin','200','antybiotyki','kapsu³ki','40','kapsu³ka');
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('5','Cetirizine','350','przeciwhistaminowe','tabletki','18','tabletka');
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('6','Omeprazole','275','leki na wrzody','kapsu³ki','30','kapsu³ka');
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('7','Aspirin','400','przeciwbólowe','tabletki','20','tabletka');
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('8','Loratadine','300','przeciwhistaminowe','tabletki','25','tabletka');
Insert into HOSPITAL.MEDICINS (ID,NAME,WAREHOUSE_QUANTITY,DRUG_CATEGORY,DRUG_FORM,PRICE,DOSE_UNIT) values ('9','Metformin','150','leki na cukrzycê','tabletki','35','tabletka');
REM INSERTING into HOSPITAL.MIGRATIONS
SET DEFINE OFF;
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('1','0001_01_01_000000_create_users_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('2','0001_01_01_000001_create_cache_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('3','0001_01_01_000002_create_jobs_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('4','2024_05_13_170156_create_doctors_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('5','2024_05_13_170927_create_medicins_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('6','2024_05_13_170930_create_nurses_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('7','2024_05_13_170932_create_rooms_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('8','2024_05_13_170952_create_patients_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('9','2024_05_13_172700_create_treatment_types_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('10','2024_05_13_172914_create_statuses_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('11','2024_05_13_172941_create_procedures_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('12','2024_05_13_173007_create_treatments_doctors_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('13','2024_05_13_173057_create_treatments_nurses_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('14','2024_05_14_170617_create_sessions_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('15','2024_06_02_174141_create_treatment_doctors_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('16','2024_06_02_174217_create_treatment_nurses_table','1');
Insert into HOSPITAL.MIGRATIONS (ID,MIGRATION,BATCH) values ('17','2024_06_02_174409_create_assignment_medicines_table','1');
REM INSERTING into HOSPITAL.NURSES
SET DEFINE OFF;
Insert into HOSPITAL.NURSES (ID,NAME,SURNAME,NUMBER_LICENSE,USER_ID) values ('1','Anna','Nowak','12s132sad1','4');
Insert into HOSPITAL.NURSES (ID,NAME,SURNAME,NUMBER_LICENSE,USER_ID) values ('2','Joanna','Kos','12s13dfad1','5');
Insert into HOSPITAL.NURSES (ID,NAME,SURNAME,NUMBER_LICENSE,USER_ID) values ('3','El¿bieta','Zawadzka','9a1b2c3d4e','11');
Insert into HOSPITAL.NURSES (ID,NAME,SURNAME,NUMBER_LICENSE,USER_ID) values ('4','Monika','Kowalczyk','5f6g7h8i9j','12');
REM INSERTING into HOSPITAL.PATIENTS
SET DEFINE OFF;
Insert into HOSPITAL.PATIENTS (ID,NAME,SURNAME,NURSE_ID,USER_ID,TIME_VISIT,ROOM_ID) values ('1','Anna','Nowak','1','6','14','1');
Insert into HOSPITAL.PATIENTS (ID,NAME,SURNAME,NURSE_ID,USER_ID,TIME_VISIT,ROOM_ID) values ('2','Janina','Nowacka','1','7','16','1');
Insert into HOSPITAL.PATIENTS (ID,NAME,SURNAME,NURSE_ID,USER_ID,TIME_VISIT,ROOM_ID) values ('3','Piotr','Kowalski','1','8','12','1');
REM INSERTING into HOSPITAL.PROCEDURES
SET DEFINE OFF;
Insert into HOSPITAL.PROCEDURES (ID,TREATMENT_TYPE_ID,ROOM_ID,"DATE",TIME,COST,STATUS,PATIENT_ID) values ('1','1','2',to_timestamp('24/06/12 15:30:00,000000000','RR/MM/DD HH24:MI:SSXFF'),'01:30','560','3','1');
Insert into HOSPITAL.PROCEDURES (ID,TREATMENT_TYPE_ID,ROOM_ID,"DATE",TIME,COST,STATUS,PATIENT_ID) values ('2','2','3',to_timestamp('24/06/19 10:00:00,000000000','RR/MM/DD HH24:MI:SSXFF'),'02:00','1200','1','2');
Insert into HOSPITAL.PROCEDURES (ID,TREATMENT_TYPE_ID,ROOM_ID,"DATE",TIME,COST,STATUS,PATIENT_ID) values ('3','3','4',to_timestamp('24/06/20 11:00:00,000000000','RR/MM/DD HH24:MI:SSXFF'),'00:45','800','1','3');
Insert into HOSPITAL.PROCEDURES (ID,TREATMENT_TYPE_ID,ROOM_ID,"DATE",TIME,COST,STATUS,PATIENT_ID) values ('4','1','5',to_timestamp('24/06/15 09:30:00,000000000','RR/MM/DD HH24:MI:SSXFF'),'01:15','600','3','1');
Insert into HOSPITAL.PROCEDURES (ID,TREATMENT_TYPE_ID,ROOM_ID,"DATE",TIME,COST,STATUS,PATIENT_ID) values ('5','2','6',to_timestamp('24/06/16 08:00:00,000000000','RR/MM/DD HH24:MI:SSXFF'),'01:00','1500','3','2');
Insert into HOSPITAL.PROCEDURES (ID,TREATMENT_TYPE_ID,ROOM_ID,"DATE",TIME,COST,STATUS,PATIENT_ID) values ('6','3','7',to_timestamp('24/06/17 14:00:00,000000000','RR/MM/DD HH24:MI:SSXFF'),'00:30','700','3','3');
Insert into HOSPITAL.PROCEDURES (ID,TREATMENT_TYPE_ID,ROOM_ID,"DATE",TIME,COST,STATUS,PATIENT_ID) values ('7','1','8',to_timestamp('24/06/18 10:30:00,000000000','RR/MM/DD HH24:MI:SSXFF'),'01:00','650','3','1');
REM INSERTING into HOSPITAL.ROOMS
SET DEFINE OFF;
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('1','2B','Budynek A1 skrzyd³o B2','wolny','Dla pacjentów','4');
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('2','24B','Budynek A1 skrzyd³o B2','wolny','Sala operacyjna','1');
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('3','3A','Budynek A1 skrzyd³o A2','wolny','Dla pacjentów','2');
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('4','15C','Budynek A2 skrzyd³o C3','wolny','Sala operacyjna','1');
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('5','5D','Budynek A3 skrzyd³o D1','wolny','Dla pacjentów','3');
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('6','8E','Budynek A1 skrzyd³o E2','wolny','Sala operacyjna','1');
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('7','10F','Budynek A4 skrzyd³o F1','wolny','Sala operacyjna','1');
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('8','12G','Budynek A5 skrzyd³o G2','wolny','Dla pacjentów','5');
Insert into HOSPITAL.ROOMS (ID,RNUMBER,RLOCATION,STATUS,TYPE_ROOM,SEATS) values ('9','20H','Budynek A1 skrzyd³o H1','wolny','Sala operacyjna','1');
REM INSERTING into HOSPITAL.SESSIONS
SET DEFINE OFF;
REM INSERTING into HOSPITAL.STATUSES
SET DEFINE OFF;
Insert into HOSPITAL.STATUSES (ID,STATUS,CREATED_AT,UPDATED_AT) values ('1','1',null,null);
Insert into HOSPITAL.STATUSES (ID,STATUS,CREATED_AT,UPDATED_AT) values ('2','2',null,null);
Insert into HOSPITAL.STATUSES (ID,STATUS,CREATED_AT,UPDATED_AT) values ('3','3',null,null);
REM INSERTING into HOSPITAL.TREATMENT_DOCTORS
SET DEFINE OFF;
Insert into HOSPITAL.TREATMENT_DOCTORS (PROCEDURE_ID,DOCTOR_ID,CREATED_AT,UPDATED_AT) values ('1','1',null,null);
Insert into HOSPITAL.TREATMENT_DOCTORS (PROCEDURE_ID,DOCTOR_ID,CREATED_AT,UPDATED_AT) values ('1','2',null,null);
Insert into HOSPITAL.TREATMENT_DOCTORS (PROCEDURE_ID,DOCTOR_ID,CREATED_AT,UPDATED_AT) values ('2','3',null,null);
Insert into HOSPITAL.TREATMENT_DOCTORS (PROCEDURE_ID,DOCTOR_ID,CREATED_AT,UPDATED_AT) values ('2','4',null,null);
REM INSERTING into HOSPITAL.TREATMENT_NURSES
SET DEFINE OFF;
REM INSERTING into HOSPITAL.TREATMENTS_DOCTORS
SET DEFINE OFF;
REM INSERTING into HOSPITAL.TREATMENTS_NURSES
SET DEFINE OFF;
Insert into HOSPITAL.TREATMENTS_NURSES (ID,NURSE_ID,PROCEDURE_ID) values ('1','1','1');
Insert into HOSPITAL.TREATMENTS_NURSES (ID,NURSE_ID,PROCEDURE_ID) values ('2','2','2');
Insert into HOSPITAL.TREATMENTS_NURSES (ID,NURSE_ID,PROCEDURE_ID) values ('3','3','3');
REM INSERTING into HOSPITAL.TREATMENT_TYPES
SET DEFINE OFF;
Insert into HOSPITAL.TREATMENT_TYPES (ID,NAME,CREATED_AT,UPDATED_AT) values ('1','operacja jelita',null,null);
Insert into HOSPITAL.TREATMENT_TYPES (ID,NAME,CREATED_AT,UPDATED_AT) values ('2','operacja serca',null,null);
Insert into HOSPITAL.TREATMENT_TYPES (ID,NAME,CREATED_AT,UPDATED_AT) values ('3','operacja krêgos³upa',null,null);
Insert into HOSPITAL.TREATMENT_TYPES (ID,NAME,CREATED_AT,UPDATED_AT) values ('4','operacja kolana',null,null);
Insert into HOSPITAL.TREATMENT_TYPES (ID,NAME,CREATED_AT,UPDATED_AT) values ('5','operacja wyrostka robaczkowego',null,null);
Insert into HOSPITAL.TREATMENT_TYPES (ID,NAME,CREATED_AT,UPDATED_AT) values ('6','operacja zaæmy',null,null);
Insert into HOSPITAL.TREATMENT_TYPES (ID,NAME,CREATED_AT,UPDATED_AT) values ('7','operacja plastyczna nosa',null,null);
REM INSERTING into HOSPITAL.USERS
SET DEFINE OFF;
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('1','login','$2y$12$Anqk7h0PkKw4uzqnCL6qyO1nfDs/WnnXv2oloQWEl8ANydIa.FUIu','1');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('2','login2','$2y$12$RuMLzf.5NMv/FBuhFP6Xh.Qgz8s4uQZbepIcBDAEvN0RahKGqMF1C','3');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('3','login3','$2y$12$QmKTXFqJoEoLmQNcXPC1oeyPswlM31fQOR8.bi.Zd3P5ORMigx9xe','3');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('4','login4','$2y$12$0Lbvx80Zh.J11k3zn8sZv.O1vv0mI.MbBnvUh1II5hoioYiqgQPc.','2');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('5','login5','$2y$12$OimGXESKF6H0hrkTv7bl2.NezQKH2p1d0RAHRIi6ej5Usqlg5P.FO','2');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('6','login6','$2y$12$gXMIXW2jec2Whsn7PR.Doe2DZy7NtPHdwE3HMZehQr1GlLNZAySxe','4');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('7','login7','$2y$12$m6wmGQPfb9ezHEDX0nDV8.o4lc6LHP.6hej.yYd79RcedgM33ih5q','4');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('8','login8','$2y$12$E5q7Qkos/3EvbrZrlPz/EeSPC7ICizGrhm3W03B7.cdbaMBO1YM3.','4');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('9','login9','$2y$12$b2dFb02.jN5mcIZpS0O4KuTc1LfLm2cTnMIFewD4AVS5SbLEZMMl2','3');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('10','login10','$2y$12$e5xVYdZg2A9bGPCUfUGC9u4gloXAJt0qsnpS.MZM.lQggxx01t/..','3');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('11','login11','$2y$12$5KNOkrg.Hr9byBcb2pWmh.P5dxdb0q4IJxuKBauEtUR7yrS4XFAZW','2');
Insert into HOSPITAL.USERS (ID,LOGIN,PASSWORD,ACCOUNT_TYPE) values ('12','login12','$2y$12$jLdGINehcofC0g/8eo5cxuFAPzI6ICWdzv48BUxKQoxkc35uyDZqi','2');
--------------------------------------------------------
--  DDL for Index ASSIGNMENT_MEDICINES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."ASSIGNMENT_MEDICINES_ID_PK" ON "HOSPITAL"."ASSIGNMENT_MEDICINES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index CACHE_KEY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."CACHE_KEY_PK" ON "HOSPITAL"."CACHE" ("KEY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index CACHE_LOCKS_KEY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."CACHE_LOCKS_KEY_PK" ON "HOSPITAL"."CACHE_LOCKS" ("KEY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index DOCTORS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."DOCTORS_ID_PK" ON "HOSPITAL"."DOCTORS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index DOCTORS_USER_ID_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."DOCTORS_USER_ID_UK" ON "HOSPITAL"."DOCTORS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index FAILED_JOBS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."FAILED_JOBS_ID_PK" ON "HOSPITAL"."FAILED_JOBS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index FAILED_JOBS_UUID_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."FAILED_JOBS_UUID_UK" ON "HOSPITAL"."FAILED_JOBS" ("UUID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index JOB_BATCHES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."JOB_BATCHES_ID_PK" ON "HOSPITAL"."JOB_BATCHES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index JOBS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."JOBS_ID_PK" ON "HOSPITAL"."JOBS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index JOBS_QUEUE_INDEX
--------------------------------------------------------

  CREATE INDEX "HOSPITAL"."JOBS_QUEUE_INDEX" ON "HOSPITAL"."JOBS" ("QUEUE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index MEDICINS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."MEDICINS_ID_PK" ON "HOSPITAL"."MEDICINS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index MIGRATIONS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."MIGRATIONS_ID_PK" ON "HOSPITAL"."MIGRATIONS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index NURSES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."NURSES_ID_PK" ON "HOSPITAL"."NURSES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index NURSES_USER_ID_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."NURSES_USER_ID_UK" ON "HOSPITAL"."NURSES" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PATIENTS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."PATIENTS_ID_PK" ON "HOSPITAL"."PATIENTS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PATIENTS_USER_ID_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."PATIENTS_USER_ID_UK" ON "HOSPITAL"."PATIENTS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PROCEDURES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."PROCEDURES_ID_PK" ON "HOSPITAL"."PROCEDURES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ROOMS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."ROOMS_ID_PK" ON "HOSPITAL"."ROOMS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SESSIONS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."SESSIONS_ID_PK" ON "HOSPITAL"."SESSIONS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SESSIONS_LAST_ACTIVITY_INDEX
--------------------------------------------------------

  CREATE INDEX "HOSPITAL"."SESSIONS_LAST_ACTIVITY_INDEX" ON "HOSPITAL"."SESSIONS" ("LAST_ACTIVITY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SESSIONS_USER_ID_INDEX
--------------------------------------------------------

  CREATE INDEX "HOSPITAL"."SESSIONS_USER_ID_INDEX" ON "HOSPITAL"."SESSIONS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index STATUSES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."STATUSES_ID_PK" ON "HOSPITAL"."STATUSES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TREATMENTS_DOCTORS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."TREATMENTS_DOCTORS_ID_PK" ON "HOSPITAL"."TREATMENTS_DOCTORS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TREATMENTS_NURSES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."TREATMENTS_NURSES_ID_PK" ON "HOSPITAL"."TREATMENTS_NURSES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TREATMENT_TYPES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."TREATMENT_TYPES_ID_PK" ON "HOSPITAL"."TREATMENT_TYPES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index USERS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."USERS_ID_PK" ON "HOSPITAL"."USERS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index USERS_LOGIN_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."USERS_LOGIN_UK" ON "HOSPITAL"."USERS" ("LOGIN") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ASSIGNMENT_MEDICINES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."ASSIGNMENT_MEDICINES_ID_PK" ON "HOSPITAL"."ASSIGNMENT_MEDICINES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index CACHE_KEY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."CACHE_KEY_PK" ON "HOSPITAL"."CACHE" ("KEY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index CACHE_LOCKS_KEY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."CACHE_LOCKS_KEY_PK" ON "HOSPITAL"."CACHE_LOCKS" ("KEY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index DOCTORS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."DOCTORS_ID_PK" ON "HOSPITAL"."DOCTORS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index DOCTORS_USER_ID_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."DOCTORS_USER_ID_UK" ON "HOSPITAL"."DOCTORS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index FAILED_JOBS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."FAILED_JOBS_ID_PK" ON "HOSPITAL"."FAILED_JOBS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index FAILED_JOBS_UUID_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."FAILED_JOBS_UUID_UK" ON "HOSPITAL"."FAILED_JOBS" ("UUID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index JOB_BATCHES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."JOB_BATCHES_ID_PK" ON "HOSPITAL"."JOB_BATCHES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index JOBS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."JOBS_ID_PK" ON "HOSPITAL"."JOBS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index JOBS_QUEUE_INDEX
--------------------------------------------------------

  CREATE INDEX "HOSPITAL"."JOBS_QUEUE_INDEX" ON "HOSPITAL"."JOBS" ("QUEUE") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index MEDICINS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."MEDICINS_ID_PK" ON "HOSPITAL"."MEDICINS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index MIGRATIONS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."MIGRATIONS_ID_PK" ON "HOSPITAL"."MIGRATIONS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index NURSES_USER_ID_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."NURSES_USER_ID_UK" ON "HOSPITAL"."NURSES" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index NURSES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."NURSES_ID_PK" ON "HOSPITAL"."NURSES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PATIENTS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."PATIENTS_ID_PK" ON "HOSPITAL"."PATIENTS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PATIENTS_USER_ID_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."PATIENTS_USER_ID_UK" ON "HOSPITAL"."PATIENTS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index PROCEDURES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."PROCEDURES_ID_PK" ON "HOSPITAL"."PROCEDURES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ROOMS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."ROOMS_ID_PK" ON "HOSPITAL"."ROOMS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SESSIONS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."SESSIONS_ID_PK" ON "HOSPITAL"."SESSIONS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SESSIONS_USER_ID_INDEX
--------------------------------------------------------

  CREATE INDEX "HOSPITAL"."SESSIONS_USER_ID_INDEX" ON "HOSPITAL"."SESSIONS" ("USER_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SESSIONS_LAST_ACTIVITY_INDEX
--------------------------------------------------------

  CREATE INDEX "HOSPITAL"."SESSIONS_LAST_ACTIVITY_INDEX" ON "HOSPITAL"."SESSIONS" ("LAST_ACTIVITY") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index STATUSES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."STATUSES_ID_PK" ON "HOSPITAL"."STATUSES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TREATMENTS_DOCTORS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."TREATMENTS_DOCTORS_ID_PK" ON "HOSPITAL"."TREATMENTS_DOCTORS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TREATMENTS_NURSES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."TREATMENTS_NURSES_ID_PK" ON "HOSPITAL"."TREATMENTS_NURSES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index TREATMENT_TYPES_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."TREATMENT_TYPES_ID_PK" ON "HOSPITAL"."TREATMENT_TYPES" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index USERS_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."USERS_ID_PK" ON "HOSPITAL"."USERS" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index USERS_LOGIN_UK
--------------------------------------------------------

  CREATE UNIQUE INDEX "HOSPITAL"."USERS_LOGIN_UK" ON "HOSPITAL"."USERS" ("LOGIN") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger ASSIGNMENT_MEDICINES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."ASSIGNMENT_MEDICINES_ID_TRG" 
            before insert on ASSIGNMENT_MEDICINES
            for each row
                begin
            if :new.ID is null then
                select assignment_medicines_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."ASSIGNMENT_MEDICINES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger DOCTORS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."DOCTORS_ID_TRG" 
            before insert on DOCTORS
            for each row
                begin
            if :new.ID is null then
                select doctors_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."DOCTORS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger FAILED_JOBS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."FAILED_JOBS_ID_TRG" 
            before insert on FAILED_JOBS
            for each row
                begin
            if :new.ID is null then
                select failed_jobs_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."FAILED_JOBS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger JOBS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."JOBS_ID_TRG" 
            before insert on JOBS
            for each row
                begin
            if :new.ID is null then
                select jobs_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."JOBS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger MEDICINS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."MEDICINS_ID_TRG" 
            before insert on MEDICINS
            for each row
                begin
            if :new.ID is null then
                select medicins_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."MEDICINS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger MIGRATIONS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."MIGRATIONS_ID_TRG" 
            before insert on MIGRATIONS
            for each row
                begin
            if :new.ID is null then
                select migrations_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."MIGRATIONS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger NURSES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."NURSES_ID_TRG" 
            before insert on NURSES
            for each row
                begin
            if :new.ID is null then
                select nurses_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."NURSES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger PATIENTS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."PATIENTS_ID_TRG" 
            before insert on PATIENTS
            for each row
                begin
            if :new.ID is null then
                select patients_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."PATIENTS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger PROCEDURES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."PROCEDURES_ID_TRG" 
            before insert on PROCEDURES
            for each row
                begin
            if :new.ID is null then
                select procedures_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."PROCEDURES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger ROOMS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."ROOMS_ID_TRG" 
            before insert on ROOMS
            for each row
                begin
            if :new.ID is null then
                select rooms_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."ROOMS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger STATUSES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."STATUSES_ID_TRG" 
            before insert on STATUSES
            for each row
                begin
            if :new.ID is null then
                select statuses_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."STATUSES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TREATMENTS_DOCTORS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."TREATMENTS_DOCTORS_ID_TRG" 
            before insert on TREATMENTS_DOCTORS
            for each row
                begin
            if :new.ID is null then
                select treatments_doctors_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."TREATMENTS_DOCTORS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TREATMENTS_NURSES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."TREATMENTS_NURSES_ID_TRG" 
            before insert on TREATMENTS_NURSES
            for each row
                begin
            if :new.ID is null then
                select treatments_nurses_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."TREATMENTS_NURSES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TREATMENT_TYPES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."TREATMENT_TYPES_ID_TRG" 
            before insert on TREATMENT_TYPES
            for each row
                begin
            if :new.ID is null then
                select treatment_types_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."TREATMENT_TYPES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_UPDATE_ROOM_STATUS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."TRG_UPDATE_ROOM_STATUS" 
AFTER INSERT OR DELETE ON patients
FOR EACH ROW
DECLARE
    v_seats NUMBER;
BEGIN
    IF INSERTING THEN
        UPDATE rooms
        SET seats = seats - 1
        WHERE id = :NEW.room_id;

        SELECT seats INTO v_seats
        FROM rooms
        WHERE id = :NEW.room_id;

        IF v_seats = 0 THEN
            UPDATE rooms
            SET status = 'zajêta'
            WHERE id = :NEW.room_id;
        END IF;
    ELSIF DELETING THEN
        UPDATE rooms
        SET seats = seats + 1
        WHERE id = :OLD.room_id;

        SELECT seats INTO v_seats
        FROM rooms
        WHERE id = :OLD.room_id;

        IF v_seats > 0 THEN
            UPDATE rooms
            SET status = 'dostêpna'
            WHERE id = :OLD.room_id;
        END IF;
    END IF;
END;

/
ALTER TRIGGER "HOSPITAL"."TRG_UPDATE_ROOM_STATUS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger USERS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."USERS_ID_TRG" 
            before insert on USERS
            for each row
                begin
            if :new.ID is null then
                select users_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."USERS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger ASSIGNMENT_MEDICINES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."ASSIGNMENT_MEDICINES_ID_TRG" 
            before insert on ASSIGNMENT_MEDICINES
            for each row
                begin
            if :new.ID is null then
                select assignment_medicines_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."ASSIGNMENT_MEDICINES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger DOCTORS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."DOCTORS_ID_TRG" 
            before insert on DOCTORS
            for each row
                begin
            if :new.ID is null then
                select doctors_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."DOCTORS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger FAILED_JOBS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."FAILED_JOBS_ID_TRG" 
            before insert on FAILED_JOBS
            for each row
                begin
            if :new.ID is null then
                select failed_jobs_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."FAILED_JOBS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger JOBS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."JOBS_ID_TRG" 
            before insert on JOBS
            for each row
                begin
            if :new.ID is null then
                select jobs_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."JOBS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger MEDICINS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."MEDICINS_ID_TRG" 
            before insert on MEDICINS
            for each row
                begin
            if :new.ID is null then
                select medicins_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."MEDICINS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger MIGRATIONS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."MIGRATIONS_ID_TRG" 
            before insert on MIGRATIONS
            for each row
                begin
            if :new.ID is null then
                select migrations_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."MIGRATIONS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger NURSES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."NURSES_ID_TRG" 
            before insert on NURSES
            for each row
                begin
            if :new.ID is null then
                select nurses_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."NURSES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger PATIENTS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."PATIENTS_ID_TRG" 
            before insert on PATIENTS
            for each row
                begin
            if :new.ID is null then
                select patients_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."PATIENTS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRG_UPDATE_ROOM_STATUS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."TRG_UPDATE_ROOM_STATUS" 
AFTER INSERT OR DELETE ON patients
FOR EACH ROW
DECLARE
    v_seats NUMBER;
BEGIN
    IF INSERTING THEN
        UPDATE rooms
        SET seats = seats - 1
        WHERE id = :NEW.room_id;

        SELECT seats INTO v_seats
        FROM rooms
        WHERE id = :NEW.room_id;

        IF v_seats = 0 THEN
            UPDATE rooms
            SET status = 'zajêta'
            WHERE id = :NEW.room_id;
        END IF;
    ELSIF DELETING THEN
        UPDATE rooms
        SET seats = seats + 1
        WHERE id = :OLD.room_id;

        SELECT seats INTO v_seats
        FROM rooms
        WHERE id = :OLD.room_id;

        IF v_seats > 0 THEN
            UPDATE rooms
            SET status = 'dostêpna'
            WHERE id = :OLD.room_id;
        END IF;
    END IF;
END;

/
ALTER TRIGGER "HOSPITAL"."TRG_UPDATE_ROOM_STATUS" ENABLE;
--------------------------------------------------------
--  DDL for Trigger PROCEDURES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."PROCEDURES_ID_TRG" 
            before insert on PROCEDURES
            for each row
                begin
            if :new.ID is null then
                select procedures_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."PROCEDURES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger ROOMS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."ROOMS_ID_TRG" 
            before insert on ROOMS
            for each row
                begin
            if :new.ID is null then
                select rooms_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."ROOMS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger STATUSES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."STATUSES_ID_TRG" 
            before insert on STATUSES
            for each row
                begin
            if :new.ID is null then
                select statuses_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."STATUSES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TREATMENTS_DOCTORS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."TREATMENTS_DOCTORS_ID_TRG" 
            before insert on TREATMENTS_DOCTORS
            for each row
                begin
            if :new.ID is null then
                select treatments_doctors_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."TREATMENTS_DOCTORS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TREATMENTS_NURSES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."TREATMENTS_NURSES_ID_TRG" 
            before insert on TREATMENTS_NURSES
            for each row
                begin
            if :new.ID is null then
                select treatments_nurses_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."TREATMENTS_NURSES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TREATMENT_TYPES_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."TREATMENT_TYPES_ID_TRG" 
            before insert on TREATMENT_TYPES
            for each row
                begin
            if :new.ID is null then
                select treatment_types_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."TREATMENT_TYPES_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Trigger USERS_ID_TRG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "HOSPITAL"."USERS_ID_TRG" 
            before insert on USERS
            for each row
                begin
            if :new.ID is null then
                select users_id_seq.nextval into :new.ID from dual;
            end if;
            end;
/
ALTER TRIGGER "HOSPITAL"."USERS_ID_TRG" ENABLE;
--------------------------------------------------------
--  DDL for Procedure ADD_ASSIGNMENT_MEDICINES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_ASSIGNMENT_MEDICINES" (
    p_PATIENT_ID IN NUMBER,
    p_MEDICIN_ID IN NUMBER,
    p_DOSE IN NUMBER,
    p_DATE_START IN DATE,
    p_DATE_END IN DATE,
    p_EXPIRATION_DATE IN DATE,
    p_AVAILABILITY IN CHAR
) AS
BEGIN
    INSERT INTO ASSIGNMENT_MEDICINES (PATIENT_ID, MEDICIN_ID, DOSE, DATE_START, DATE_END, EXPIRATION_DATE, AVAILABILITY)
    VALUES (p_PATIENT_ID, p_MEDICIN_ID, p_DOSE, p_DATE_START, p_DATE_END, p_EXPIRATION_DATE, p_AVAILABILITY);
END;

/
--------------------------------------------------------
--  DDL for Procedure ADD_DOCTOR
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_DOCTOR" (
    p_name IN VARCHAR2,
    p_surname IN VARCHAR2,
    p_specialization IN VARCHAR2,
    p_license_number IN VARCHAR2,
    p_user_id IN NUMBER
)
IS
BEGIN
    INSERT INTO doctors (name, surname, specialization, license_number, user_id)
    VALUES (p_name, p_surname, p_specialization, p_license_number, p_user_id);
END ADD_DOCTOR;

/
--------------------------------------------------------
--  DDL for Procedure ADD_MEDICIN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_MEDICIN" (
    p_name IN VARCHAR2,
    p_instruction IN CLOB,
    p_warehouse_quantity IN NUMBER,
    p_drug_category IN VARCHAR2,
    p_drug_form IN VARCHAR2,
    p_price IN NUMBER,
    p_dose_unit IN VARCHAR2
)
IS
BEGIN
    INSERT INTO MEDICINS (ID ,NAME, INSTRUCTION, WAREHOUSE_QUANTITY, DRUG_CATEGORY, DRUG_FORM, PRICE, DOSE_UNIT)
    VALUES (MEDICINS_ID_SEQ.NEXTVAL, p_name, p_instruction, p_warehouse_quantity, p_drug_category, p_drug_form, p_price, p_dose_unit);
END;

/
--------------------------------------------------------
--  DDL for Procedure ADD_NURSE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_NURSE" (
    p_name IN VARCHAR2,
    p_surname IN VARCHAR2,
    p_number IN VARCHAR2,
    p_user_id IN NUMBER)
IS
BEGIN
    INSERT INTO NURSES (NAME, SURNAME, NUMBER_LICENSE, USER_ID)
    VALUES (p_name, p_surname, p_number, p_user_id);
END;

/
--------------------------------------------------------
--  DDL for Procedure ADD_PATIENT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_PATIENT" (
    p_name IN VARCHAR2,
    p_surname IN VARCHAR2,
    p_nurse_id IN NUMBER,
    p_user_id IN NUMBER,
    p_time_visit IN NUMBER,
    p_room_id IN NUMBER)
IS
BEGIN
    INSERT INTO patients (name, surname, nurse_id, user_id, time_visit, room_id)
    VALUES (p_name, p_surname, p_nurse_id, p_user_id, p_time_visit, p_room_id);
END;

/
--------------------------------------------------------
--  DDL for Procedure ADD_PROCEDURE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_PROCEDURE" (
    p_TREATMENT_TYPE_ID IN NUMBER,
    p_ROOM_ID IN NUMBER,
    p_DATE IN TIMESTAMP,
    p_DURATION IN VARCHAR2,
    p_COST IN NUMBER,
    p_PATIENT_ID IN NUMBER
) AS
    l_start_time TIMESTAMP;
    l_end_time TIMESTAMP;
BEGIN
    -- Oblicz czas zakoñczenia nowego zabiegu
    l_start_time := p_DATE;
    l_end_time := GET_END_TIME(p_DATE, p_DURATION);

    -- SprawdŸ, czy pacjent ma ju¿ zaplanowany zabieg w danym przedziale czasowym
    FOR rec IN (
        SELECT P."DATE", P."TIME", GET_END_TIME(P."DATE", P."TIME") AS END_TIME
        FROM PROCEDURES P
        WHERE P.PATIENT_ID = p_PATIENT_ID
    ) LOOP
        IF (l_start_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (l_end_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (rec."DATE" BETWEEN l_start_time AND l_end_time) THEN
            RAISE_APPLICATION_ERROR(-20003, 'Patient is not available at the specified time.');
        END IF;
    END LOOP;

    -- SprawdŸ, czy sala jest ju¿ zajêta w danym przedziale czasowym
    FOR rec IN (
        SELECT P."DATE", P."TIME", GET_END_TIME(P."DATE", P."TIME") AS END_TIME
        FROM PROCEDURES P
        WHERE P.ROOM_ID = p_ROOM_ID
    ) LOOP
        IF (l_start_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (l_end_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (rec."DATE" BETWEEN l_start_time AND l_end_time) THEN
            RAISE_APPLICATION_ERROR(-20004, 'Room is not available at the specified time.');
        END IF;
    END LOOP;

    -- Jeœli brak konfliktów, dodaj nowy wpis do PROCEDURES
    INSERT INTO PROCEDURES (ID, TREATMENT_TYPE_ID, ROOM_ID, "DATE", "TIME", "COST", STATUS, PATIENT_ID)
    VALUES (PROCEDURES_ID_SEQ.NEXTVAL, p_TREATMENT_TYPE_ID, p_ROOM_ID, p_DATE, p_DURATION, p_COST, 1, p_PATIENT_ID);
END;

/
--------------------------------------------------------
--  DDL for Procedure ADD_ROOM
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_ROOM" (
       p_rnumber IN VARCHAR2,
       p_rlocation IN VARCHAR2,
       p_status IN VARCHAR2,
       p_type_room IN VARCHAR2,
       p_seats IN INTEGER
   ) AS
   BEGIN
       INSERT INTO rooms (rnumber, rlocation, status, type_room, seats)
       VALUES (p_rnumber, p_rlocation, p_status, p_type_room, p_seats);
   END;

/
--------------------------------------------------------
--  DDL for Procedure ADD_STATUS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_STATUS" (
    p_STATUS IN VARCHAR2,
    p_DESCRIPTION IN CLOB
) AS
BEGIN
    INSERT INTO STATUSES (ID, STATUS, DESCRIPTION, CREATED_AT, UPDATED_AT)
    VALUES (STATUSES_SEQ.NEXTVAL, p_STATUS, p_DESCRIPTION, SYSTIMESTAMP, SYSTIMESTAMP);
END ADD_STATUS;

/
--------------------------------------------------------
--  DDL for Procedure ADD_TREATMENTS_DOCTORS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_TREATMENTS_DOCTORS" (
    p_PROCEDURE_ID IN NUMBER,
    p_DOCTOR_ID IN NUMBER
) AS
    l_start_time TIMESTAMP;
    l_duration VARCHAR2(255);
    l_end_time TIMESTAMP;
BEGIN
    -- Pobierz czas rozpoczêcia i d³ugoœæ trwania nowego zabiegu
    SELECT "DATE", "TIME" INTO l_start_time, l_duration
    FROM PROCEDURES
    WHERE ID = p_PROCEDURE_ID;

    -- Oblicz czas zakoñczenia nowego zabiegu
    l_end_time := GET_END_TIME(l_start_time, l_duration);

    -- SprawdŸ, czy doktor ma ju¿ zaplanowany zabieg w danym przedziale czasowym
    FOR rec IN (
        SELECT T."DATE", T."TIME", GET_END_TIME(T."DATE", T."TIME") AS END_TIME
        FROM PROCEDURES T
        JOIN TREATMENTS_DOCTORS TD ON T.ID = TD.PROCEDURE_ID
        WHERE TD.DOCTOR_ID = p_DOCTOR_ID
    ) LOOP
        IF (l_start_time BETWEEN rec.DATE AND rec.END_TIME)
           OR (l_end_time BETWEEN rec.DATE AND rec.END_TIME)
           OR (rec.DATE BETWEEN l_start_time AND l_end_time) THEN
            RAISE_APPLICATION_ERROR(-20001, 'Doctor is not available at the specified time.');
        END IF;
    END LOOP;

    -- Jeœli brak konfliktów, dodaj nowy wpis do TREATMENTS_DOCTORS
    INSERT INTO TREATMENTS_DOCTORS (ID, PROCEDURE_ID, DOCTOR_ID, CREATED_AT)
    VALUES (TREATMENTS_DOCTORS_ID_SEQ.NEXTVAL, p_PROCEDURE_ID, p_DOCTOR_ID, SYSTIMESTAMP);
END;

/
--------------------------------------------------------
--  DDL for Procedure ADD_TREATMENTS_NURSES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_TREATMENTS_NURSES" (
    p_NURSE_ID IN NUMBER,
    p_PROCEDURE_ID IN NUMBER
    
) AS
    l_start_time TIMESTAMP;
    l_duration VARCHAR2(255);
    l_end_time TIMESTAMP;
BEGIN
    -- Pobierz czas rozpoczêcia i d³ugoœæ trwania nowego zabiegu
    SELECT "DATE", "TIME" INTO l_start_time, l_duration
    FROM PROCEDURES
    WHERE ID = p_PROCEDURE_ID;

    -- Oblicz czas zakoñczenia nowego zabiegu
    l_end_time := GET_END_TIME(l_start_time, l_duration);

    -- SprawdŸ, czy pielêgniarka ma ju¿ zaplanowany zabieg w danym przedziale czasowym
    FOR rec IN (
        SELECT P."DATE", P."TIME", GET_END_TIME(P."DATE", P."TIME") AS END_TIME
        FROM PROCEDURES P
        JOIN TREATMENTS_NURSES TN ON P.ID = TN.PROCEDURE_ID
        WHERE TN.NURSE_ID = p_NURSE_ID
    ) LOOP
        IF (l_start_time BETWEEN rec.DATE AND rec.END_TIME)
           OR (l_end_time BETWEEN rec.DATE AND rec.END_TIME)
           OR (rec.DATE BETWEEN l_start_time AND l_end_time) THEN
            RAISE_APPLICATION_ERROR(-20002, 'Nurse is not available at the specified time.');
        END IF;
    END LOOP;

    -- Jeœli brak konfliktów, dodaj nowy wpis do TREATMENTS_NURSES
    INSERT INTO TREATMENTS_NURSES (ID, PROCEDURE_ID, NURSE_ID)
    VALUES (TREATMENTS_NURSES_ID_SEQ.NEXTVAL, p_PROCEDURE_ID, p_NURSE_ID);
END;

/
--------------------------------------------------------
--  DDL for Procedure ADD_TREATMENT_TYPE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."ADD_TREATMENT_TYPE" (
    p_NAME IN VARCHAR2,
    p_DESCRIPTION IN CLOB,
    p_RECOMMENDATIONS_BEFORE_SURGERY IN CLOB,
    p_RECOMMENDATIONS_AFTER_SURGERY IN CLOB
) AS
BEGIN
    INSERT INTO TREATMENT_TYPES (ID,"NAME", "DESCRIPTION", "RECOMMENDATIONS_BEFORE_SURGERY", "RECOMMENDATIONS_AFTER_SURGERY")
    VALUES (TREATMENT_TYPES_ID_SEQ.NEXTVAL,p_NAME, p_DESCRIPTION, p_RECOMMENDATIONS_BEFORE_SURGERY, p_RECOMMENDATIONS_AFTER_SURGERY);
END;

/
--------------------------------------------------------
--  DDL for Procedure CHECK_AND_UPDATE_ACCOUNT_TYPES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."CHECK_AND_UPDATE_ACCOUNT_TYPES" AS
    CURSOR c_users IS
        SELECT ID FROM USERS;
    l_count INTEGER;
    l_user_id USERS.ID%TYPE;
BEGIN
    FOR r IN c_users LOOP
        l_user_id := r.ID;

        SELECT COUNT(*) INTO l_count FROM USERS WHERE ID = l_user_id AND ACCOUNT_TYPE = 1;
        IF l_count > 0 THEN
            CONTINUE;
        END IF;

        SELECT COUNT(*) INTO l_count FROM NURSES WHERE USER_ID = l_user_id;
        IF l_count > 0 THEN
            UPDATE USERS SET ACCOUNT_TYPE = 2 WHERE ID = l_user_id;
            CONTINUE;
        END IF;

        SELECT COUNT(*) INTO l_count FROM DOCTORS WHERE USER_ID = l_user_id;
        IF l_count > 0 THEN
            UPDATE USERS SET ACCOUNT_TYPE = 3 WHERE ID = l_user_id;
            CONTINUE;
        END IF;

        SELECT COUNT(*) INTO l_count FROM PATIENTS WHERE USER_ID = l_user_id;
        IF l_count > 0 THEN
            UPDATE USERS SET ACCOUNT_TYPE = 4 WHERE ID = l_user_id;
            CONTINUE;
        END IF;

        UPDATE USERS SET ACCOUNT_TYPE = 0 WHERE ID = l_user_id;
    END LOOP;

    COMMIT;
END;

/
--------------------------------------------------------
--  DDL for Procedure CHECK_DUPLICATE_MEDICATIONS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."CHECK_DUPLICATE_MEDICATIONS" AS
BEGIN
    FOR rec IN (
        SELECT ID, PATIENT_ID, MEDICIN_ID, EXPIRATION_DATE
        FROM ASSIGNMENT_MEDICINES
    ) LOOP
        DECLARE
            duplicate_count NUMBER;
        BEGIN
            SELECT COUNT(*)
            INTO duplicate_count
            FROM ASSIGNMENT_MEDICINES
            WHERE PATIENT_ID = rec.PATIENT_ID
            AND MEDICIN_ID = rec.MEDICIN_ID
            AND EXPIRATION_DATE = rec.EXPIRATION_DATE
            AND ID != rec.ID;

            IF duplicate_count > 0 THEN
                DELETE FROM ASSIGNMENT_MEDICINES
                WHERE ID = rec.ID;
            END IF;
        END;
    END LOOP;
    COMMIT;
END;

/
--------------------------------------------------------
--  DDL for Procedure CHECK_ROOM_AVAILABILITY
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."CHECK_ROOM_AVAILABILITY" AS
    occupied_seats NUMBER;
    operating_status NUMBER;
BEGIN
    FOR rec IN (SELECT ID, RNUMBER, SEATS, TYPE_ROOM FROM ROOMS) LOOP
        IF rec.TYPE_ROOM = 'Dla pacjentów' THEN
            SELECT COUNT(*) INTO occupied_seats
            FROM PATIENTS
            WHERE ROOM_ID = rec.ID;

            IF occupied_seats < rec.SEATS THEN
                UPDATE ROOMS
                SET STATUS = 'wolny'
                WHERE ID = rec.ID;
            ELSE
                UPDATE ROOMS
                SET STATUS = 'zajêty'
                WHERE ID = rec.ID;
            END IF;

        ELSIF rec.TYPE_ROOM = 'Sala operacyjna' THEN
            BEGIN
                SELECT STATUS INTO operating_status
                FROM (
                    SELECT STATUS
                    FROM PROCEDURES
                    WHERE ROOM_ID = rec.ID AND "DATE" > SYSDATE - INTERVAL '1' HOUR
                    ORDER BY "DATE" DESC
                )
                WHERE ROWNUM = 1;

                IF operating_status = 2 THEN
                    UPDATE ROOMS
                    SET STATUS = 'zajêty'
                    WHERE ID = rec.ID;
                ELSE
                    UPDATE ROOMS
                    SET STATUS = 'wolny'
                    WHERE ID = rec.ID;
                END IF;
            EXCEPTION
                WHEN NO_DATA_FOUND THEN
                    UPDATE ROOMS
                    SET STATUS = 'wolny'
                    WHERE ID = rec.ID;
            END;
        END IF;
    END LOOP;
    COMMIT;
END;

/
--------------------------------------------------------
--  DDL for Procedure CREATE_USER
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."CREATE_USER" (
    p_ID IN NUMBER,
    p_LOGIN IN VARCHAR2,
    p_PASSWORD IN VARCHAR2,
    p_ACCOUNT_TYPE IN NUMBER
) AS
BEGIN
    INSERT INTO USERS (ID, LOGIN, PASSWORD, ACCOUNT_TYPE)
    VALUES (p_ID, p_LOGIN, p_PASSWORD, p_ACCOUNT_TYPE);
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_ASSIGNMENT_MEDICINES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_ASSIGNMENT_MEDICINES" (
    p_PATIENT_ID IN NUMBER
) AS
BEGIN
    DELETE FROM ASSIGNMENT_MEDICINES WHERE PATIENT_ID = p_PATIENT_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_DOCTOR
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_DOCTOR" (
    p_doctor_id IN NUMBER)
IS
BEGIN
    DELETE FROM doctors WHERE id = p_doctor_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_MEDICIN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_MEDICIN" (
    p_medicin_id IN NUMBER)
IS
BEGIN
    DELETE FROM medicins WHERE id = p_medicin_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_NURSE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_NURSE" (
    p_nurse_id IN NUMBER)
IS
BEGIN
    DELETE FROM nurses WHERE id = p_nurse_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_PATIENT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_PATIENT" (
    p_patient_id IN NUMBER)
IS
BEGIN
    DELETE FROM patients WHERE id = p_patient_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_PROCEDURE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_PROCEDURE" (
    p_procedure_id IN NUMBER
) IS
BEGIN
    BEGIN
        DELETE FROM procedures WHERE id = p_procedure_id;
    EXCEPTION
        WHEN OTHERS THEN
            IF SQLCODE = -2292 THEN
                RAISE_APPLICATION_ERROR(-20001, 'Nie mo¿na usun¹æ procedury, która jest ju¿ przypisana.');
            ELSE
                RAISE;
            END IF;
    END;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_ROOM
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_ROOM" (
    p_room_id IN NUMBER)
IS
BEGIN
    DELETE FROM rooms WHERE id = p_room_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_STATUS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_STATUS" (
    p_ID IN NUMBER
) AS
BEGIN
    DELETE FROM STATUSES
    WHERE ID = p_ID;
END DELETE_STATUS;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_TREATMENTS_DOCTORS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_TREATMENTS_DOCTORS" (
    p_ID IN NUMBER
) AS
BEGIN
    DELETE FROM TREATMENTS_DOCTORS WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_TREATMENTS_NURSES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_TREATMENTS_NURSES" (
    p_ID IN NUMBER
) AS
BEGIN
    DELETE FROM TREATMENTS_NURSES WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_TREATMENT_TYPE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_TREATMENT_TYPE" (
    p_ID IN NUMBER
) AS
BEGIN
    DELETE FROM TREATMENT_TYPES WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure DELETE_USER
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."DELETE_USER" (
    p_ID IN NUMBER
) AS
BEGIN
    DELETE FROM USERS WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_ASSIGNMENT_MEDICINES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_ASSIGNMENT_MEDICINES" (
    p_PATIENT_ID IN NUMBER,
    p_MEDICIN_ID OUT NUMBER,
    p_DOSE OUT NUMBER,
    p_DATE_START OUT DATE,
    p_DATE_END OUT DATE,
    p_EXPIRATION_DATE OUT DATE,
    p_AVAILABILITY OUT CHAR
) AS
BEGIN
    SELECT MEDICIN_ID, DOSE, DATE_START, DATE_END, EXPIRATION_DATE, AVAILABILITY
    INTO p_MEDICIN_ID, p_DOSE, p_DATE_START, p_DATE_END, p_EXPIRATION_DATE, p_AVAILABILITY
    FROM ASSIGNMENT_MEDICINES
    WHERE PATIENT_ID = p_PATIENT_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_DOCTOR
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_DOCTOR" (
    p_doctor_id IN NUMBER,
    p_doctor OUT SYS_REFCURSOR)
IS
BEGIN
    OPEN p_doctor FOR
    SELECT * FROM doctors WHERE id = p_doctor_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_MEDICINE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_MEDICINE" (
    p_mdicine_id IN NUMBER,
    p_medicine OUT SYS_REFCURSOR)
IS
BEGIN
    OPEN p_medicine FOR
    SELECT * FROM MEDICINS WHERE ID = p_mdicine_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_PATIENT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_PATIENT" (
    p_patient_id IN NUMBER,
    p_patient OUT SYS_REFCURSOR)
IS
BEGIN
    OPEN p_patient FOR
    SELECT * FROM patients WHERE id = p_patient_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_PROCEDURE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_PROCEDURE" (
    p_ID IN NUMBER,
    p_procedure OUT SYS_REFCURSOR
) AS
BEGIN
    OPEN p_procedure FOR
    SELECT "ID",TREATMENT_TYPE_ID, ROOM_ID, "DATE", "TIME", "COST", STATUS, PATIENT_ID
    FROM PROCEDURES
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_ROOM
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_ROOM" (
    p_room_id IN NUMBER,
    p_room OUT SYS_REFCURSOR)
IS
BEGIN
    OPEN p_room FOR
    SELECT * FROM rooms WHERE id = p_room_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_STATUS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_STATUS" (
    p_ID IN NUMBER,
    p_STATUS OUT VARCHAR2,
    p_DESCRIPTION OUT CLOB,
    p_CREATED_AT OUT TIMESTAMP,
    p_UPDATED_AT OUT TIMESTAMP
) AS
BEGIN
    SELECT STATUS, DESCRIPTION, CREATED_AT, UPDATED_AT
    INTO p_STATUS, p_DESCRIPTION, p_CREATED_AT, p_UPDATED_AT
    FROM STATUSES
    WHERE ID = p_ID;
END GET_STATUS;

/
--------------------------------------------------------
--  DDL for Procedure GET_TREATMENTS_DOCTORS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_TREATMENTS_DOCTORS" (
    p_ID IN NUMBER,
    p_RESULT OUT SYS_REFCURSOR
) AS
BEGIN
    OPEN p_RESULT FOR
    SELECT * FROM TREATMENTS_DOCTORS
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_TREATMENTS_NURSES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_TREATMENTS_NURSES" (
    p_ID IN NUMBER,
    p_RESULT OUT SYS_REFCURSOR
) AS
BEGIN
    OPEN p_RESULT FOR
    SELECT * FROM TREATMENTS_NURSES
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_TREATMENT_TYPE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_TREATMENT_TYPE" (
    p_ID IN NUMBER,
    p_NAME OUT VARCHAR2,
    p_DESCRIPTION OUT CLOB,
    p_RECOMMENDATIONS_BEFORE_SURGERY OUT CLOB,
    p_RECOMMENDATIONS_AFTER_SURGERY OUT CLOB,
    p_CREATED_AT OUT TIMESTAMP,
    p_UPDATED_AT OUT TIMESTAMP
) AS
BEGIN
    SELECT NAME, DESCRIPTION, RECOMMENDATIONS_BEFORE_SURGERY, RECOMMENDATIONS_AFTER_SURGERY, CREATED_AT, UPDATED_AT
    INTO p_NAME, p_DESCRIPTION, p_RECOMMENDATIONS_BEFORE_SURGERY, p_RECOMMENDATIONS_AFTER_SURGERY, p_CREATED_AT, p_UPDATED_AT
    FROM TREATMENT_TYPES
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure GET_USER
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."GET_USER" (
    p_ID IN NUMBER,
    p_LOGIN OUT VARCHAR2,
    p_ACCOUNT_TYPE OUT NUMBER
) AS
BEGIN
    SELECT LOGIN, ACCOUNT_TYPE
    INTO p_LOGIN, p_ACCOUNT_TYPE
    FROM USERS
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure LOGIN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."LOGIN" (
    p_login IN VARCHAR2,
    p_password IN VARCHAR2,
    p_result OUT NUMBER
) IS
BEGIN
    IF CHECK_PASSWORD(p_login, p_password) THEN
        p_result := 1;
    ELSE
        p_result := 0;
    END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure REMOVE_DUPLICATE_ASSIGNMENTS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."REMOVE_DUPLICATE_ASSIGNMENTS" AS
BEGIN
    FOR rec IN (
        SELECT ID, NURSE_ID, PROCEDURE_ID
        FROM TREATMENTS_NURSES
    ) LOOP
        DECLARE
            duplicate_count NUMBER;
        BEGIN
            SELECT COUNT(*)
            INTO duplicate_count
            FROM TREATMENTS_NURSES
            WHERE NURSE_ID = rec.NURSE_ID
            AND PROCEDURE_ID = rec.PROCEDURE_ID
            AND ID != rec.ID;

            IF duplicate_count > 0 THEN
                DELETE FROM TREATMENTS_NURSES
                WHERE ID = rec.ID;
            END IF;
        END;
    END LOOP;
    COMMIT;
END;

/
--------------------------------------------------------
--  DDL for Procedure REMOVE_DUPLICATE_DOCTOR_ASSIGNMENTS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."REMOVE_DUPLICATE_DOCTOR_ASSIGNMENTS" AS
BEGIN
    FOR rec IN (
        SELECT ID, DOCTOR_ID, PROCEDURE_ID
        FROM TREATMENTS_DOCTORS
    ) LOOP
        DECLARE
            duplicate_count NUMBER;
        BEGIN
            SELECT COUNT(*)
            INTO duplicate_count
            FROM TREATMENTS_DOCTORS
            WHERE DOCTOR_ID = rec.DOCTOR_ID
            AND PROCEDURE_ID = rec.PROCEDURE_ID
            AND ID != rec.ID;

            IF duplicate_count > 0 THEN
                DELETE FROM TREATMENTS_DOCTORS
                WHERE ID = rec.ID;
            END IF;
        END;
    END LOOP;
    COMMIT;
END;

/
--------------------------------------------------------
--  DDL for Procedure REMOVE_DUPLICATE_TREATMENTS_NURSES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."REMOVE_DUPLICATE_TREATMENTS_NURSES" IS
BEGIN
    DELETE FROM TREATMENTS_NURSES A
    WHERE A.ROWID > ANY (
        SELECT B.ROWID
        FROM TREATMENTS_NURSES B
        WHERE A.NURSE_ID = B.NURSE_ID
          AND A.PROCEDURE_ID = B.PROCEDURE_ID
    );
END REMOVE_DUPLICATE_TREATMENTS_NURSES;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_ASSIGNMENT_MEDICINES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_ASSIGNMENT_MEDICINES" (
    p_PATIENT_ID IN NUMBER,
    p_MEDICIN_ID IN NUMBER,
    p_DOSE IN NUMBER,
    p_DATE_START IN DATE,
    p_DATE_END IN DATE,
    p_EXPIRATION_DATE IN DATE,
    p_AVAILABILITY IN CHAR
) AS
BEGIN
    UPDATE ASSIGNMENT_MEDICINES
    SET MEDICIN_ID = p_MEDICIN_ID, DOSE = p_DOSE, DATE_START = p_DATE_START, DATE_END = p_DATE_END,
        EXPIRATION_DATE = p_EXPIRATION_DATE, AVAILABILITY = p_AVAILABILITY
    WHERE PATIENT_ID = p_PATIENT_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_DOCTOR
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_DOCTOR" (
    p_doctor_id IN NUMBER,
    p_name IN VARCHAR2,
    p_surname IN VARCHAR2,
    p_specialization IN VARCHAR2,
    p_license_number IN VARCHAR2,
    p_user_id IN NUMBER)
IS
BEGIN
    UPDATE doctors
    SET name = p_name,
        surname = p_surname,
        specialization = p_specialization,
        license_number = p_license_number,
        user_id = p_user_id
    WHERE id = p_doctor_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_MEDICIN
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_MEDICIN" (
    p_medicin_id IN NUMBER,
    p_name IN VARCHAR2,
    p_instruction IN CLOB,
    p_warehouse_quantity IN NUMBER,
    p_drug_category IN VARCHAR2,
    p_price IN NUMBER,
    p_dose_unit IN VARCHAR2)
IS
BEGIN
    UPDATE medicins
    SET name = p_name,
        instruction = p_instruction,
        warehouse_quantity = p_warehouse_quantity,
        drug_category = p_drug_category,
        price = p_price,
        dose_unit = p_dose_unit
    WHERE id = p_medicin_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_NURSE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_NURSE" (
    p_nurse_id IN NUMBER,
    p_name IN VARCHAR2,
    p_surname IN VARCHAR2,
    p_number IN VARCHAR2,
    p_user_id IN NUMBER)
IS
BEGIN
    UPDATE nurses
    SET name = p_name,
        surname = p_surname,
        number_license = p_number,
        user_id = p_user_id
    WHERE id = p_nurse_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_PATIENT
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_PATIENT" (
    p_patient_id IN NUMBER,
    p_name IN VARCHAR2,
    p_surname IN VARCHAR2,
    p_nurse_id IN NUMBER,
    p_user_id IN NUMBER,
    p_time_visit IN NUMBER,
    p_room_id IN NUMBER)
IS
BEGIN
    UPDATE patients
    SET name = p_name,
        surname = p_surname,
        nurse_id = p_nurse_id,
        user_id = p_user_id,
        time_visit = p_time_visit
    WHERE id = p_patient_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_PROCEDURE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_PROCEDURE" (
    p_ID IN NUMBER,
    p_TREATMENT_TYPE_ID IN NUMBER,
    p_ROOM_ID IN NUMBER,
    p_DATE IN TIMESTAMP,
    p_DURATION IN VARCHAR2,
    p_COST IN NUMBER,
    p_PATIENT_ID IN NUMBER
) AS
    l_start_time TIMESTAMP;
    l_end_time TIMESTAMP;
BEGIN
    -- Oblicz czas zakoñczenia nowego zabiegu
    l_start_time := p_DATE;
    l_end_time := GET_END_TIME(p_DATE, p_DURATION);

    -- SprawdŸ, czy pacjent ma ju¿ zaplanowany zabieg w danym przedziale czasowym
    FOR rec IN (
        SELECT P."DATE", P."TIME", GET_END_TIME(P."DATE", P."TIME") AS END_TIME
        FROM PROCEDURES P
        WHERE P.PATIENT_ID = p_PATIENT_ID AND P.ID != p_ID
    ) LOOP
        IF (l_start_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (l_end_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (rec."DATE" BETWEEN l_start_time AND l_end_time) THEN
            RAISE_APPLICATION_ERROR(-20003, 'Patient is not available at the specified time.');
        END IF;
    END LOOP;

    -- SprawdŸ, czy sala jest ju¿ zajêta w danym przedziale czasowym
    FOR rec IN (
        SELECT P."DATE", P."TIME", GET_END_TIME(P."DATE", P."TIME") AS END_TIME
        FROM PROCEDURES P
        WHERE P.ROOM_ID = p_ROOM_ID AND P.ID != p_ID
    ) LOOP
        IF (l_start_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (l_end_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (rec."DATE" BETWEEN l_start_time AND l_end_time) THEN
            RAISE_APPLICATION_ERROR(-20004, 'Room is not available at the specified time.');
        END IF;
    END LOOP;

    -- Jeœli brak konfliktów, zaktualizuj wpis w PROCEDURES
    UPDATE PROCEDURES
    SET TREATMENT_TYPE_ID = p_TREATMENT_TYPE_ID,
        ROOM_ID = p_ROOM_ID,
        "DATE" = p_DATE,
        "TIME" = p_DURATION,
        "COST" = p_COST,
        PATIENT_ID = p_PATIENT_ID,
        STATUS = 1
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_PROCEDURE_STATUSES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_PROCEDURE_STATUSES" AS
    CURSOR c_procedures IS
        SELECT ID, "DATE", TIME, STATUS
        FROM PROCEDURES
        WHERE STATUS IN (1, 2, 3);

    l_current_time TIMESTAMP;
    l_end_time TIMESTAMP;
    l_new_status_id NUMBER;
BEGIN
    l_current_time := SYSTIMESTAMP;

    FOR r IN c_procedures LOOP
        l_end_time := GET_END_TIME(r."DATE", r.TIME);

        IF l_current_time < r."DATE" THEN
            SELECT ID INTO l_new_status_id FROM STATUSES WHERE STATUS = 1;
        ELSIF l_current_time BETWEEN r."DATE" AND l_end_time THEN
            SELECT ID INTO l_new_status_id FROM STATUSES WHERE STATUS = 2;
        ELSE
            SELECT ID INTO l_new_status_id FROM STATUSES WHERE STATUS = 3;
        END IF;

        IF l_new_status_id IS NOT NULL THEN
            UPDATE PROCEDURES 
            SET STATUS = l_new_status_id
            WHERE ID = r.ID;
        ELSE
            RAISE_APPLICATION_ERROR(-20001, 'Nie mo¿na ustawiæ statusu na NULL dla ID ' || r.ID);
        END IF;
    END LOOP;

    COMMIT;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_ROOM
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_ROOM" (
    p_room_id IN NUMBER,
    p_rnumber IN VARCHAR2,
    p_rlocation IN VARCHAR2,
    p_status IN VARCHAR2,
    p_type_room IN VARCHAR2,
    p_seats IN NUMBER)
IS
BEGIN
    UPDATE rooms
    SET rnumber = p_rnumber,
        rlocation = p_rlocation,
        status = p_status,
        type_room = p_type_room,
        seats = p_seats
    WHERE id = p_room_id;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_STATUS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_STATUS" (
    p_ID IN NUMBER,
    p_STATUS IN VARCHAR2,
    p_DESCRIPTION IN CLOB
) AS
BEGIN
    UPDATE STATUSES
    SET STATUS = p_STATUS,
        DESCRIPTION = p_DESCRIPTION,
        UPDATED_AT = SYSTIMESTAMP
    WHERE ID = p_ID;
END UPDATE_STATUS;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_TREATMENTS_DOCTORS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_TREATMENTS_DOCTORS" (
    p_PROCEDURE_ID IN NUMBER,
    p_DOCTOR_ID IN NUMBER
) AS
    l_start_time TIMESTAMP;
    l_duration VARCHAR2(255);
    l_end_time TIMESTAMP;
BEGIN
    -- Pobierz czas rozpoczêcia i d³ugoœæ trwania aktualizowanego zabiegu
    SELECT "DATE", "TIME" INTO l_start_time, l_duration
    FROM PROCEDURES
    WHERE ID = p_PROCEDURE_ID;

    -- Oblicz czas zakoñczenia aktualizowanego zabiegu
    l_end_time := GET_END_TIME(l_start_time, l_duration);

    -- SprawdŸ, czy lekarz ma ju¿ zaplanowany zabieg w danym przedziale czasowym
    FOR rec IN (
        SELECT P."DATE", P."TIME", GET_END_TIME(P."DATE", P."TIME") AS END_TIME
        FROM PROCEDURES P
        JOIN TREATMENTS_DOCTORS TD ON P.ID = TD.PROCEDURE_ID
        WHERE TD.DOCTOR_ID = p_DOCTOR_ID AND P.ID != p_PROCEDURE_ID
    ) LOOP
        IF (l_start_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (l_end_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (rec."DATE" BETWEEN l_start_time AND l_end_time) THEN
            RAISE_APPLICATION_ERROR(-20004, 'Doctor is not available at the specified time.');
        END IF;
    END LOOP;

    -- Jeœli brak konfliktów, zaktualizuj wpis w TREATMENTS_DOCTORS
    UPDATE TREATMENTS_DOCTORS
    SET DOCTOR_ID = p_DOCTOR_ID
    WHERE PROCEDURE_ID = p_PROCEDURE_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_TREATMENTS_NURSES
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_TREATMENTS_NURSES" (
    p_ID IN NUMBER,
    p_NEW_NURSE_ID IN NUMBER,
    p_NEW_PROCEDURE_ID IN NUMBER
) AS
    l_start_time TIMESTAMP;
    l_duration VARCHAR2(255);
    l_end_time TIMESTAMP;
BEGIN
    -- Pobierz czas rozpoczêcia i d³ugoœæ trwania aktualizowanego zabiegu
    SELECT "DATE", "TIME" INTO l_start_time, l_duration
    FROM PROCEDURES
    WHERE ID = p_NEW_PROCEDURE_ID;

    -- Oblicz czas zakoñczenia aktualizowanego zabiegu
    l_end_time := GET_END_TIME(l_start_time, l_duration);

    -- SprawdŸ, czy pielêgniarka ma ju¿ zaplanowany zabieg w danym przedziale czasowym
    FOR rec IN (
        SELECT P."DATE", P."TIME", GET_END_TIME(P."DATE", P."TIME") AS END_TIME
        FROM PROCEDURES P
        JOIN TREATMENTS_NURSES TN ON P.ID = TN.PROCEDURE_ID
        WHERE TN.NURSE_ID = p_NEW_NURSE_ID AND P.ID != p_NEW_PROCEDURE_ID
    ) LOOP
        IF (l_start_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (l_end_time BETWEEN rec."DATE" AND rec.END_TIME)
           OR (rec."DATE" BETWEEN l_start_time AND l_end_time) THEN
            RAISE_APPLICATION_ERROR(-20005, 'Nurse is not available at the specified time.');
        END IF;
    END LOOP;

    -- Jeœli brak konfliktów, zaktualizuj wpis w TREATMENTS_NURSES
    UPDATE TREATMENTS_NURSES
    SET NURSE_ID = p_NEW_NURSE_ID,
        PROCEDURE_ID = p_NEW_PROCEDURE_ID
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_TREATMENT_TYPE
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_TREATMENT_TYPE" (
    p_ID IN NUMBER,
    p_NAME IN VARCHAR2,
    p_DESCRIPTION IN CLOB,
    p_RECOMMENDATIONS_BEFORE_SURGERY IN CLOB,
    p_RECOMMENDATIONS_AFTER_SURGERY IN CLOB
) AS
BEGIN
    UPDATE TREATMENT_TYPES
    SET NAME = p_NAME, DESCRIPTION = p_DESCRIPTION, RECOMMENDATIONS_BEFORE_SURGERY = p_RECOMMENDATIONS_AFTER_SURGERY,
        RECOMMENDATIONS_AFTER_SURGERY = p_RECOMMENDATIONS_AFTER_SURGERY
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Procedure UPDATE_USER
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "HOSPITAL"."UPDATE_USER" (
    p_ID IN NUMBER,
    p_LOGIN IN VARCHAR2,
    p_PASSWORD IN VARCHAR2,
    p_ACCOUNT_TYPE IN NUMBER
) AS
BEGIN
    UPDATE USERS
    SET LOGIN = p_LOGIN, PASSWORD = p_PASSWORD, ACCOUNT_TYPE = p_ACCOUNT_TYPE
    WHERE ID = p_ID;
END;

/
--------------------------------------------------------
--  DDL for Package SZPITAL
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "HOSPITAL"."SZPITAL" AS
    TYPE medicin_rec IS RECORD (
        id NUMBER,
        name VARCHAR2(200),
        instruction CLOB,
        warehouse_quantity NUMBER,
        drug_category VARCHAR2(200),
        drug_form VARCHAR2(200),
        price NUMBER,
        dose_unit VARCHAR2(200)
    );

    TYPE room_rec IS RECORD (
        id NUMBER,
        rnumber VARCHAR2(200),
        rlocation VARCHAR2(200),
        status VARCHAR2(200),
        type_room VARCHAR2(200),
        seats NUMBER
    );

    TYPE treatment_type_rec IS RECORD (
        id NUMBER,
        name VARCHAR2(200),
        description CLOB,
        recommendations_before_surgery CLOB,
        recommendations_after_surgery CLOB,
        created_at TIMESTAMP,
        updated_at TIMESTAMP
    );

    PROCEDURE add_medicine(
        p_name IN VARCHAR2,
        p_instruction IN CLOB,
        p_warehouse_quantity IN NUMBER,
        p_drug_category IN VARCHAR2,
        p_drug_form IN VARCHAR2,
        p_price IN NUMBER,
        p_dose_unit IN VARCHAR2
    );

    PROCEDURE get_medicin(
        p_medicin_id IN NUMBER,
        p_medicin OUT SYS_REFCURSOR
    );

    PROCEDURE update_medicin(
        p_medicin_id IN NUMBER,
        p_name IN VARCHAR2,
        p_instruction IN CLOB,
        p_warehouse_quantity IN NUMBER,
        p_drug_category IN VARCHAR2,
        p_drug_form IN VARCHAR2,
        p_price IN NUMBER,
        p_dose_unit IN VARCHAR2
    );

    PROCEDURE delete_medicin(
        p_medicin_id IN NUMBER
    );

    PROCEDURE add_room(
        p_rnumber IN VARCHAR2,
        p_rlocation IN VARCHAR2,
        p_status IN VARCHAR2,
        p_type_room IN VARCHAR2,
        p_seats IN INTEGER
    );

    PROCEDURE get_room(
        p_room_id IN NUMBER,
        p_room OUT SYS_REFCURSOR
    );

    PROCEDURE update_room(
        p_room_id IN NUMBER,
        p_rnumber IN VARCHAR2,
        p_rlocation IN VARCHAR2,
        p_status IN VARCHAR2,
        p_type_room IN VARCHAR2,
        p_seats IN NUMBER
    );

    PROCEDURE delete_room(
        p_room_id IN NUMBER
    );

    PROCEDURE add_treatment_type(
        p_ID IN NUMBER,
        p_NAME IN VARCHAR2,
        p_DESCRIPTION IN CLOB,
        p_RECOMMENDATIONS_BEFORE_SURGERY IN CLOB,
        p_RECOMMENDATIONS_AFTER_SURGERY IN CLOB,
        p_CREATED_AT IN TIMESTAMP
    );

    PROCEDURE get_treatment_type(
        p_ID IN NUMBER,
        p_NAME OUT VARCHAR2,
        p_DESCRIPTION OUT CLOB,
        p_RECOMMENDATIONS_BEFORE_SURGERY OUT CLOB,
        p_RECOMMENDATIONS_AFTER_SURGERY OUT CLOB,
        p_CREATED_AT OUT TIMESTAMP,
        p_UPDATED_AT OUT TIMESTAMP
    );

    PROCEDURE update_treatment_type(
        p_ID IN NUMBER,
        p_NAME IN VARCHAR2,
        p_DESCRIPTION IN CLOB,
        p_RECOMMENDATIONS_BEFORE_SURGERY IN CLOB,
        p_RECOMMENDATIONS_AFTER_SURGERY IN CLOB,
        p_UPDATED_AT IN TIMESTAMP
    );

    PROCEDURE delete_treatment_type(
        p_ID IN NUMBER
    );
END szpital;

/
--------------------------------------------------------
--  DDL for Package SZPITAL_STATS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "HOSPITAL"."SZPITAL_STATS" AS
    TYPE stats_rec IS RECORD (
        patient_count NUMBER,
        procedure_count NUMBER,
        doctor_count NUMBER,
        nurse_count NUMBER
    );

    PROCEDURE get_stats(p_stats OUT stats_rec);
END szpital_stats;

/
--------------------------------------------------------
--  DDL for Package USERS_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE "HOSPITAL"."USERS_PKG" IS
    TYPE doctor_rec IS RECORD (
        id              NUMBER,
        name            VARCHAR2(20),
        surname         VARCHAR2(25),
        specialization  VARCHAR2(50),
        license_number  VARCHAR2(50),
        user_id         NUMBER
    );

    TYPE patient_rec IS RECORD (
        id              NUMBER,
        name            VARCHAR2(20),
        surname         VARCHAR2(25),
        nurse_id        NUMBER,
        user_id         NUMBER,
        time_visit      NUMBER,
        room_id         NUMBER
    );

    TYPE nurse_rec IS RECORD (
        id              NUMBER,
        name            VARCHAR2(20),
        surname         VARCHAR2(30),
        NUMBER_LICENSE  VARCHAR2(30),
        user_id         NUMBER
    );

    PROCEDURE add_doctor(p_doctor IN doctor_rec);
    PROCEDURE get_doctor(p_doctor_id IN NUMBER, p_doctor OUT SYS_REFCURSOR);
    PROCEDURE update_doctor(p_doctor IN doctor_rec);
    PROCEDURE delete_doctor(p_doctor_id IN NUMBER);

    PROCEDURE add_patient(p_patient IN patient_rec);
    PROCEDURE get_patient(p_patient_id IN NUMBER, p_patient OUT SYS_REFCURSOR);
    PROCEDURE update_patient(p_patient IN patient_rec);
    PROCEDURE delete_patient(p_patient_id IN NUMBER);

    PROCEDURE add_nurse(p_nurse IN nurse_rec);
    PROCEDURE get_nurse(p_nurse_id IN NUMBER, p_nurse OUT SYS_REFCURSOR);
    PROCEDURE update_nurse(p_nurse IN nurse_rec);
    PROCEDURE delete_nurse(p_nurse_id IN NUMBER);

END users_pkg;

/
--------------------------------------------------------
--  DDL for Package Body SZPITAL
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "HOSPITAL"."SZPITAL" AS

    PROCEDURE add_medicine(
        p_name IN VARCHAR2,
        p_instruction IN CLOB,
        p_warehouse_quantity IN NUMBER,
        p_drug_category IN VARCHAR2,
        p_drug_form IN VARCHAR2,
        p_price IN NUMBER,
        p_dose_unit IN VARCHAR2
    ) IS
    BEGIN
        INSERT INTO MEDICINS ("NAME", "INSTRUCTION", "WAREHOUSE_QUANTITY", "DRUG_CATEGORY", "DRUG_FORM", "PRICE", "DOSE_UNIT")
        VALUES (p_name, p_instruction, p_warehouse_quantity, p_drug_category, p_price, p_drug_form, p_dose_unit);
    END add_medicine;

    PROCEDURE get_medicin(
        p_medicin_id IN NUMBER,
        p_medicin OUT SYS_REFCURSOR
    ) IS
    BEGIN
        OPEN p_medicin FOR
        SELECT * FROM medicins WHERE id = p_medicin_id;
    END get_medicin;

    PROCEDURE update_medicin(
        p_medicin_id IN NUMBER,
        p_name IN VARCHAR2,
        p_instruction IN CLOB,
        p_warehouse_quantity IN NUMBER,
        p_drug_category IN VARCHAR2,
        p_drug_form IN VARCHAR2,
        p_price IN NUMBER,
        p_dose_unit IN VARCHAR2
    ) IS
    BEGIN
        UPDATE medicins
        SET name = p_name,
            instruction = p_instruction,
            warehouse_quantity = p_warehouse_quantity,
            drug_category = p_drug_category,
            drug_form = p_drug_form,
            price = p_price,
            dose_unit = p_dose_unit
        WHERE id = p_medicin_id;
    END update_medicin;

    PROCEDURE delete_medicin(
        p_medicin_id IN NUMBER
    ) IS
    BEGIN
        DELETE FROM medicins WHERE id = p_medicin_id;
    END delete_medicin;

    PROCEDURE add_room(
        p_rnumber IN VARCHAR2,
        p_rlocation IN VARCHAR2,
        p_status IN VARCHAR2,
        p_type_room IN VARCHAR2,
        p_seats IN INTEGER
    ) IS
    BEGIN
        INSERT INTO rooms (rnumber, rlocation, status, type_room, seats)
        VALUES (p_rnumber, p_rlocation, p_status, p_type_room, p_seats);
    END add_room;

    PROCEDURE get_room(
        p_room_id IN NUMBER,
        p_room OUT SYS_REFCURSOR
    ) IS
    BEGIN
        OPEN p_room FOR
        SELECT * FROM rooms WHERE id = p_room_id;
    END get_room;

    PROCEDURE update_room(
        p_room_id IN NUMBER,
        p_rnumber IN VARCHAR2,
        p_rlocation IN VARCHAR2,
        p_status IN VARCHAR2,
        p_type_room IN VARCHAR2,
        p_seats IN NUMBER
    ) IS
    BEGIN
        UPDATE rooms
        SET rnumber = p_rnumber,
            rlocation = p_rlocation,
            status = p_status,
            type_room = p_type_room,
            seats = p_seats
        WHERE id = p_room_id;
    END update_room;

    PROCEDURE delete_room(
        p_room_id IN NUMBER
    ) IS
    BEGIN
        DELETE FROM rooms WHERE id = p_room_id;
    END delete_room;

    PROCEDURE add_treatment_type(
        p_ID IN NUMBER,
        p_NAME IN VARCHAR2,
        p_DESCRIPTION IN CLOB,
        p_RECOMMENDATIONS_BEFORE_SURGERY IN CLOB,
        p_RECOMMENDATIONS_AFTER_SURGERY IN CLOB,
        p_CREATED_AT IN TIMESTAMP
    ) IS
    BEGIN
        INSERT INTO TREATMENT_TYPES ("ID", "NAME", "DESCRIPTION", RECOMMENDATIONS_BEFORE_SURGERY, RECOMMENDATIONS_AFTER_SURGERY, CREATED_AT)
        VALUES (p_ID, p_NAME, p_DESCRIPTION, p_RECOMMENDATIONS_BEFORE_SURGERY, p_RECOMMENDATIONS_AFTER_SURGERY, p_CREATED_AT);
    END add_treatment_type;

    PROCEDURE get_treatment_type(
        p_ID IN NUMBER,
        p_NAME OUT VARCHAR2,
        p_DESCRIPTION OUT CLOB,
        p_RECOMMENDATIONS_BEFORE_SURGERY OUT CLOB,
        p_RECOMMENDATIONS_AFTER_SURGERY OUT CLOB,
        p_CREATED_AT OUT TIMESTAMP,
        p_UPDATED_AT OUT TIMESTAMP
    ) IS
    BEGIN
        SELECT NAME, DESCRIPTION, RECOMMENDATIONS_BEFORE_SURGERY, RECOMMENDATIONS_AFTER_SURGERY, CREATED_AT, UPDATED_AT
        INTO p_NAME, p_DESCRIPTION, p_RECOMMENDATIONS_BEFORE_SURGERY, p_RECOMMENDATIONS_AFTER_SURGERY, p_CREATED_AT, p_UPDATED_AT
        FROM TREATMENT_TYPES
        WHERE ID = p_ID;
    END get_treatment_type;

    PROCEDURE update_treatment_type(
        p_ID IN NUMBER,
        p_NAME IN VARCHAR2,
        p_DESCRIPTION IN CLOB,
        p_RECOMMENDATIONS_BEFORE_SURGERY IN CLOB,
        p_RECOMMENDATIONS_AFTER_SURGERY IN CLOB,
        p_UPDATED_AT IN TIMESTAMP
    ) IS
    BEGIN
        UPDATE TREATMENT_TYPES
        SET NAME = p_NAME, DESCRIPTION = p_DESCRIPTION, RECOMMENDATIONS_BEFORE_SURGERY = p_RECOMMENDATIONS_BEFORE_SURGERY,
            RECOMMENDATIONS_AFTER_SURGERY = p_RECOMMENDATIONS_AFTER_SURGERY, UPDATED_AT = p_UPDATED_AT
        WHERE ID = p_ID;
    END update_treatment_type;

    PROCEDURE delete_treatment_type(
        p_ID IN NUMBER
    ) IS
    BEGIN
        DELETE FROM TREATMENT_TYPES WHERE ID = p_ID;
    END delete_treatment_type;

END szpital;

/
--------------------------------------------------------
--  DDL for Package Body SZPITAL_STATS
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "HOSPITAL"."SZPITAL_STATS" AS
    PROCEDURE get_stats(p_stats OUT stats_rec) IS
    BEGIN
        SELECT COUNT(*) INTO p_stats.patient_count FROM patients;
        SELECT COUNT(*) INTO p_stats.procedure_count FROM procedures;
        SELECT COUNT(*) INTO p_stats.doctor_count FROM doctors;
        SELECT COUNT(*) INTO p_stats.nurse_count FROM nurses;
    END get_stats;
END szpital_stats;

/
--------------------------------------------------------
--  DDL for Package Body USERS_PKG
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE PACKAGE BODY "HOSPITAL"."USERS_PKG" IS

    PROCEDURE add_doctor(p_doctor IN doctor_rec) IS
    BEGIN
        INSERT INTO doctors (name, surname, specialization, license_number, user_id)
        VALUES (p_doctor.name, p_doctor.surname, p_doctor.specialization, p_doctor.license_number, p_doctor.user_id);
    END add_doctor;

    PROCEDURE get_doctor(p_doctor_id IN NUMBER, p_doctor OUT SYS_REFCURSOR) IS
    BEGIN
        OPEN p_doctor FOR
        SELECT * FROM doctors WHERE id = p_doctor_id;
    END get_doctor;

    PROCEDURE update_doctor(p_doctor IN doctor_rec) IS
    BEGIN
        UPDATE doctors
        SET name = p_doctor.name,
            surname = p_doctor.surname,
            specialization = p_doctor.specialization,
            license_number = p_doctor.license_number,
            user_id = p_doctor.user_id
        WHERE id = p_doctor.id;
    END update_doctor;

    PROCEDURE delete_doctor(p_doctor_id IN NUMBER) IS
    BEGIN
        DELETE FROM doctors WHERE id = p_doctor_id;
    END delete_doctor;

    PROCEDURE add_patient(p_patient IN patient_rec) IS
    BEGIN
        INSERT INTO patients (name, surname, nurse_id, user_id, time_visit, room_id)
        VALUES (p_patient.name, p_patient.surname, p_patient.nurse_id, p_patient.user_id, p_patient.time_visit, p_patient.room_id);
    END add_patient;

    PROCEDURE get_patient(p_patient_id IN NUMBER, p_patient OUT SYS_REFCURSOR) IS
    BEGIN
        OPEN p_patient FOR
        SELECT * FROM patients WHERE id = p_patient_id;
    END get_patient;

    PROCEDURE update_patient(p_patient IN patient_rec) IS
    BEGIN
        UPDATE patients
        SET name = p_patient.name,
            surname = p_patient.surname,
            nurse_id = p_patient.nurse_id,
            user_id = p_patient.user_id,
            time_visit = p_patient.time_visit,
            room_id = p_patient.room_id
        WHERE id = p_patient.id;
    END update_patient;

    PROCEDURE delete_patient(p_patient_id IN NUMBER) IS
    BEGIN
        DELETE FROM patients WHERE id = p_patient_id;
    END delete_patient;

    PROCEDURE add_nurse(p_nurse IN nurse_rec) IS
    BEGIN
        INSERT INTO nurses (name, surname, NUMBER_LICENSE, user_id)
        VALUES (p_nurse.name, p_nurse.surname, p_nurse.NUMBER_LICENSE, p_nurse.user_id);
    END add_nurse;

    PROCEDURE get_nurse(p_nurse_id IN NUMBER, p_nurse OUT SYS_REFCURSOR) IS
    BEGIN
        OPEN p_nurse FOR
        SELECT * FROM nurses WHERE id = p_nurse_id;
    END get_nurse;

    PROCEDURE update_nurse(p_nurse IN nurse_rec) IS
    BEGIN
        UPDATE nurses
        SET name = p_nurse.name,
            surname = p_nurse.surname,
            NUMBER_LICENSE = p_nurse.NUMBER_LICENSE,
            user_id = p_nurse.user_id
        WHERE id = p_nurse.id;
    END update_nurse;

    PROCEDURE delete_nurse(p_nurse_id IN NUMBER) IS
    BEGIN
        DELETE FROM nurses WHERE id = p_nurse_id;
    END delete_nurse;

END users_pkg;

/
--------------------------------------------------------
--  DDL for Function CHECK_PASSWORD
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "HOSPITAL"."CHECK_PASSWORD" (p_username IN VARCHAR2, p_password IN VARCHAR2) RETURN BOOLEAN IS
    l_hashed_password VARCHAR2(200);
    l_stored_password VARCHAR2(200);
BEGIN
    l_hashed_password := HASH_PASSWORD(p_password);

    SELECT PASSWORD INTO l_stored_password
    FROM USERS
    WHERE LOGIN = p_username;

    IF l_hashed_password = l_stored_password THEN
        RETURN TRUE;
    ELSE
        RETURN FALSE;
    END IF;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        RETURN FALSE;
END;

/
--------------------------------------------------------
--  DDL for Function GET_END_TIME
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "HOSPITAL"."GET_END_TIME" (
    p_start_time TIMESTAMP,
    p_duration VARCHAR2
) RETURN TIMESTAMP IS
    l_end_time TIMESTAMP;
    l_hours NUMBER;
    l_minutes NUMBER;
BEGIN
    l_hours := TO_NUMBER(SUBSTR(p_duration, 1, INSTR(p_duration, ':') - 1));
    l_minutes := TO_NUMBER(SUBSTR(p_duration, INSTR(p_duration, ':') + 1));

    l_end_time := p_start_time + INTERVAL '1' HOUR * l_hours + INTERVAL '1' MINUTE * l_minutes;
    RETURN l_end_time;
END;

/
--------------------------------------------------------
--  DDL for Function HASH_PASSWORD
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "HOSPITAL"."HASH_PASSWORD" (p_password IN VARCHAR2) RETURN VARCHAR2 IS
    l_hashed_password VARCHAR2(200);
BEGIN
    l_hashed_password := DBMS_CRYPTO.HASH(UTL_RAW.CAST_TO_RAW(p_password), DBMS_CRYPTO.HASH_MD5);
    RETURN l_hashed_password;
END;

/
--------------------------------------------------------
--  Constraints for Table ASSIGNMENT_MEDICINES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" MODIFY ("PATIENT_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" MODIFY ("MEDICIN_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" MODIFY ("DOSE" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" MODIFY ("DATE_START" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" MODIFY ("DATE_END" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" MODIFY ("EXPIRATION_DATE" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" MODIFY ("AVAILABILITY" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" ADD CONSTRAINT "ASSIGNMENT_MEDICINES_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CACHE
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."CACHE" MODIFY ("KEY" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."CACHE" MODIFY ("VALUE" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."CACHE" MODIFY ("EXPIRATION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."CACHE" ADD CONSTRAINT "CACHE_KEY_PK" PRIMARY KEY ("KEY")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CACHE_LOCKS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."CACHE_LOCKS" MODIFY ("KEY" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."CACHE_LOCKS" MODIFY ("OWNER" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."CACHE_LOCKS" MODIFY ("EXPIRATION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."CACHE_LOCKS" ADD CONSTRAINT "CACHE_LOCKS_KEY_PK" PRIMARY KEY ("KEY")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table DOCTORS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."DOCTORS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."DOCTORS" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."DOCTORS" MODIFY ("SURNAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."DOCTORS" MODIFY ("SPECIALIZATION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."DOCTORS" MODIFY ("LICENSE_NUMBER" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."DOCTORS" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."DOCTORS" ADD CONSTRAINT "DOCTORS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HOSPITAL"."DOCTORS" ADD CONSTRAINT "DOCTORS_USER_ID_UK" UNIQUE ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table FAILED_JOBS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."FAILED_JOBS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."FAILED_JOBS" MODIFY ("UUID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."FAILED_JOBS" MODIFY ("CONNECTION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."FAILED_JOBS" MODIFY ("QUEUE" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."FAILED_JOBS" MODIFY ("PAYLOAD" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."FAILED_JOBS" MODIFY ("EXCEPTION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."FAILED_JOBS" MODIFY ("FAILED_AT" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."FAILED_JOBS" ADD CONSTRAINT "FAILED_JOBS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HOSPITAL"."FAILED_JOBS" ADD CONSTRAINT "FAILED_JOBS_UUID_UK" UNIQUE ("UUID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JOB_BATCHES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."JOB_BATCHES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOB_BATCHES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOB_BATCHES" MODIFY ("TOTAL_JOBS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOB_BATCHES" MODIFY ("PENDING_JOBS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOB_BATCHES" MODIFY ("FAILED_JOBS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOB_BATCHES" MODIFY ("FAILED_JOB_IDS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOB_BATCHES" MODIFY ("CREATED_AT" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOB_BATCHES" ADD CONSTRAINT "JOB_BATCHES_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table JOBS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."JOBS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOBS" MODIFY ("QUEUE" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOBS" MODIFY ("PAYLOAD" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOBS" MODIFY ("ATTEMPTS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOBS" MODIFY ("AVAILABLE_AT" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOBS" MODIFY ("CREATED_AT" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."JOBS" ADD CONSTRAINT "JOBS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table MEDICINS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."MEDICINS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MEDICINS" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MEDICINS" MODIFY ("INSTRUCTION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MEDICINS" MODIFY ("WAREHOUSE_QUANTITY" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MEDICINS" MODIFY ("DRUG_CATEGORY" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MEDICINS" MODIFY ("DRUG_FORM" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MEDICINS" MODIFY ("DOSE_UNIT" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MEDICINS" ADD CONSTRAINT "MEDICINS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table MIGRATIONS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."MIGRATIONS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MIGRATIONS" MODIFY ("MIGRATION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MIGRATIONS" MODIFY ("BATCH" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."MIGRATIONS" ADD CONSTRAINT "MIGRATIONS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table NURSES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."NURSES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."NURSES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."NURSES" MODIFY ("SURNAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."NURSES" MODIFY ("NUMBER_LICENSE" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."NURSES" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."NURSES" ADD CONSTRAINT "NURSES_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HOSPITAL"."NURSES" ADD CONSTRAINT "NURSES_USER_ID_UK" UNIQUE ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PATIENTS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."PATIENTS" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PATIENTS" MODIFY ("SURNAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PATIENTS" MODIFY ("NURSE_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PATIENTS" MODIFY ("USER_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PATIENTS" MODIFY ("TIME_VISIT" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PATIENTS" MODIFY ("ROOM_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PATIENTS" ADD CONSTRAINT "PATIENTS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HOSPITAL"."PATIENTS" ADD CONSTRAINT "PATIENTS_USER_ID_UK" UNIQUE ("USER_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HOSPITAL"."PATIENTS" MODIFY ("ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table PROCEDURES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."PROCEDURES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PROCEDURES" MODIFY ("TREATMENT_TYPE_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PROCEDURES" MODIFY ("ROOM_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PROCEDURES" MODIFY ("DATE" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PROCEDURES" MODIFY ("TIME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PROCEDURES" MODIFY ("COST" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PROCEDURES" MODIFY ("STATUS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PROCEDURES" MODIFY ("PATIENT_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."PROCEDURES" ADD CONSTRAINT "PROCEDURES_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ROOMS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."ROOMS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ROOMS" MODIFY ("RLOCATION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ROOMS" MODIFY ("STATUS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ROOMS" MODIFY ("SEATS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."ROOMS" ADD CONSTRAINT "ROOMS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table SESSIONS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."SESSIONS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."SESSIONS" MODIFY ("PAYLOAD" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."SESSIONS" MODIFY ("LAST_ACTIVITY" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."SESSIONS" ADD CONSTRAINT "SESSIONS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table STATUSES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."STATUSES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."STATUSES" MODIFY ("STATUS" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."STATUSES" MODIFY ("DESCRIPTION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."STATUSES" ADD CONSTRAINT "STATUSES_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TREATMENT_DOCTORS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENT_DOCTORS" MODIFY ("PROCEDURE_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENT_DOCTORS" MODIFY ("DOCTOR_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TREATMENT_NURSES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENT_NURSES" MODIFY ("NURSE_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENT_NURSES" MODIFY ("PROCEDURE_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table TREATMENTS_DOCTORS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENTS_DOCTORS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENTS_DOCTORS" MODIFY ("PROCEDURE_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENTS_DOCTORS" MODIFY ("DOCTOR_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENTS_DOCTORS" ADD CONSTRAINT "TREATMENTS_DOCTORS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TREATMENTS_NURSES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENTS_NURSES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENTS_NURSES" MODIFY ("NURSE_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENTS_NURSES" MODIFY ("PROCEDURE_ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENTS_NURSES" ADD CONSTRAINT "TREATMENTS_NURSES_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table TREATMENT_TYPES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENT_TYPES" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENT_TYPES" MODIFY ("NAME" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENT_TYPES" MODIFY ("DESCRIPTION" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENT_TYPES" MODIFY ("RECOMMENDATIONS_BEFORE_SURGERY" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENT_TYPES" MODIFY ("RECOMMENDATIONS_AFTER_SURGERY" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."TREATMENT_TYPES" ADD CONSTRAINT "TREATMENT_TYPES_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table USERS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."USERS" MODIFY ("ID" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."USERS" MODIFY ("LOGIN" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."USERS" MODIFY ("PASSWORD" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."USERS" MODIFY ("ACCOUNT_TYPE" NOT NULL ENABLE);
  ALTER TABLE "HOSPITAL"."USERS" ADD CONSTRAINT "USERS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "HOSPITAL"."USERS" ADD CONSTRAINT "USERS_LOGIN_UK" UNIQUE ("LOGIN")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ASSIGNMENT_MEDICINES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" ADD CONSTRAINT "ASSIGNME_MEDICIN_PATIE_ID_FK" FOREIGN KEY ("PATIENT_ID")
	  REFERENCES "HOSPITAL"."PATIENTS" ("ID") ENABLE;
  ALTER TABLE "HOSPITAL"."ASSIGNMENT_MEDICINES" ADD CONSTRAINT "ASSIGNME_MEDICIN_MEDIC_ID_FK" FOREIGN KEY ("MEDICIN_ID")
	  REFERENCES "HOSPITAL"."MEDICINS" ("ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table DOCTORS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."DOCTORS" ADD CONSTRAINT "DOCTORS_USER_ID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "HOSPITAL"."USERS" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table NURSES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."NURSES" ADD CONSTRAINT "NURSES_USER_ID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "HOSPITAL"."USERS" ("ID") ON DELETE CASCADE ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PATIENTS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."PATIENTS" ADD CONSTRAINT "PATIENTS_NURSE_ID_FK" FOREIGN KEY ("NURSE_ID")
	  REFERENCES "HOSPITAL"."NURSES" ("ID") ENABLE;
  ALTER TABLE "HOSPITAL"."PATIENTS" ADD CONSTRAINT "PATIENTS_USER_ID_FK" FOREIGN KEY ("USER_ID")
	  REFERENCES "HOSPITAL"."USERS" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "HOSPITAL"."PATIENTS" ADD CONSTRAINT "PATIENTS_ROOM_ID_FK" FOREIGN KEY ("ROOM_ID")
	  REFERENCES "HOSPITAL"."ROOMS" ("ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PROCEDURES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."PROCEDURES" ADD CONSTRAINT "PROCEDURE_TREATMEN_TYP_ID_FK" FOREIGN KEY ("TREATMENT_TYPE_ID")
	  REFERENCES "HOSPITAL"."TREATMENT_TYPES" ("ID") ENABLE;
  ALTER TABLE "HOSPITAL"."PROCEDURES" ADD CONSTRAINT "PROCEDURES_ROOM_ID_FK" FOREIGN KEY ("ROOM_ID")
	  REFERENCES "HOSPITAL"."ROOMS" ("ID") ENABLE;
  ALTER TABLE "HOSPITAL"."PROCEDURES" ADD CONSTRAINT "PROCEDURES_PATIENT_ID_FK" FOREIGN KEY ("PATIENT_ID")
	  REFERENCES "HOSPITAL"."PATIENTS" ("ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TREATMENT_DOCTORS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENT_DOCTORS" ADD CONSTRAINT "TREATMEN_DOCTOR_PROCEDUR_ID_FK" FOREIGN KEY ("PROCEDURE_ID")
	  REFERENCES "HOSPITAL"."PROCEDURES" ("ID") ENABLE;
  ALTER TABLE "HOSPITAL"."TREATMENT_DOCTORS" ADD CONSTRAINT "TREATMENT_DOCTORS_DOCTOR_ID_FK" FOREIGN KEY ("DOCTOR_ID")
	  REFERENCES "HOSPITAL"."DOCTORS" ("ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TREATMENT_NURSES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENT_NURSES" ADD CONSTRAINT "TREATMENT_NURSES_NURSE_ID_FK" FOREIGN KEY ("NURSE_ID")
	  REFERENCES "HOSPITAL"."NURSES" ("ID") ENABLE;
  ALTER TABLE "HOSPITAL"."TREATMENT_NURSES" ADD CONSTRAINT "TREATMEN_NURSE_PROCEDUR_ID_FK" FOREIGN KEY ("PROCEDURE_ID")
	  REFERENCES "HOSPITAL"."PROCEDURES" ("ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TREATMENTS_DOCTORS
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENTS_DOCTORS" ADD CONSTRAINT "TREATMEN_DOCTO_PROCEDU_ID_FK" FOREIGN KEY ("PROCEDURE_ID")
	  REFERENCES "HOSPITAL"."PROCEDURES" ("ID") ENABLE;
  ALTER TABLE "HOSPITAL"."TREATMENTS_DOCTORS" ADD CONSTRAINT "TREATMENT_DOCTOR_DOCTO_ID_FK" FOREIGN KEY ("DOCTOR_ID")
	  REFERENCES "HOSPITAL"."DOCTORS" ("ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table TREATMENTS_NURSES
--------------------------------------------------------

  ALTER TABLE "HOSPITAL"."TREATMENTS_NURSES" ADD CONSTRAINT "TREATMENTS_NURSES_NURSE_ID_FK" FOREIGN KEY ("NURSE_ID")
	  REFERENCES "HOSPITAL"."NURSES" ("ID") ENABLE;
  ALTER TABLE "HOSPITAL"."TREATMENTS_NURSES" ADD CONSTRAINT "TREATMENT_NURSE_PROCEDUR_ID_FK" FOREIGN KEY ("PROCEDURE_ID")
	  REFERENCES "HOSPITAL"."PROCEDURES" ("ID") ENABLE;
